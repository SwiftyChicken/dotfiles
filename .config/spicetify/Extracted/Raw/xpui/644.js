"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[644],{54644:function(t,e,n){n.r(e),n.d(e,{EpisodeSponsorNowPlayingBarHatIfPodcastAdIsPlaying:function(){return p},default:function(){return f}});var o=n(27378),a=n.n(o),d=n(19501);const s=["podcast-preroll","podcast-midroll-1","podcast-midroll-2","podcast-midroll-3","podcast-midroll-4","podcast-midroll-5","podcast-postroll"];function i({eventTypesToSubscribeTo:t,onPodcastAdEvent:e,onError:n}){const o=t.flatMap((t=>s.map((o=>(0,d.oc)(t,e,n,{slot:o})))));return()=>o.forEach((({cancel:t})=>t()))}const c=["started","resumed","ended"];function r({subscribeToPodcastAdEvents:t=i}={}){const[e,n]=(0,o.useState)(),{hidingHat:a,setHidingHat:d}=function(){const[t,e]=(0,o.useState)();return{hidingHat:t,setHidingHat:e}}();return(0,o.useEffect)((()=>{let o=!1;const a=t({eventTypesToSubscribeTo:c,async onPodcastAdEvent(t){const a="started"===(s=t.event_type)||"resumed"===s?s:void 0;var s;const i=Boolean(a&&"cta_card_sai"===t.ad.metadata.product_name),c=Boolean(e&&i&&e.ad.id===t.ad.id)?void 0:new Promise((t=>setTimeout((()=>{o||(n(void 0),d(void 0)),t()}),250)));c&&d(c),i&&(await c,n(t))}});return()=>{o=!0,a()}}),[e,d,t]),{activeAdEvent:e,hidingHat:a}}var l=n(18291),u=n(42044);const v=(0,o.lazy)((()=>n.e(169).then(n.bind(n,77169))));function p({subscribeToPodcastAdEvents:t}){const e=(0,l.Y)((t=>{var e;const n=null!==(e=null==t?void 0:t.item)&&void 0!==e?e:void 0;return(0,u.k6)(n)&&n.isPodcastAd?n:null}),((t,e)=>(null==t?void 0:t.uri)===(null==e?void 0:e.uri))),{activeAdEvent:n,hidingHat:d}=r({subscribeToPodcastAdEvents:t});return(e||d)&&n?a().createElement(o.Suspense,{fallback:!0},a().createElement(v,{adEvent:n,ad:e,hidingHat:d})):null}var f=p}}]);
//# sourceMappingURL=644.js.map