"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[754],{59146:function(e,t,n){n.d(t,{$:function(){return f}});var r=n(35181),a=n(27378),l=n.n(a),c=n(97015),o=n(18291),i=n(42044),u=n(39519),s=n(73429),m=n(67831);function d(e){return e.includes("Spotify")?e:`Spotify – ${e}`}const f=({children:e})=>{let t=d(e);(e=>{const{mainLandmarkRef:t}=(0,m.Oh)(),n=(0,s.k6)(),r=(0,a.useRef)(n.length<2);r.current=n.length<2,(0,a.useEffect)((()=>{const n=t.current;n&&!r.current&&e&&(n.setAttribute("aria-label",e),n.focus())}),[e,t])})(e);const n=(0,o.Y)(u.o9)===i.PO.PLAYING,f=(0,o.Y)((e=>null==e?void 0:e.item));return f&&n&&((0,i.G_)(f)?t=[f.name,f.artists.map((e=>e.name)).join(r.ag.getSeparator())].join(" · "):(0,i.iw)(f)?t=[f.name,f.show.name].join(" · "):(0,i.k6)(f)&&(t=d(r.ag.get("ad-formats.advertisement")))),l().createElement(c.q,{defaultTitle:"Spotify",defer:!1},l().createElement("title",null,t))}},5129:function(e,t,n){n.d(t,{$:function(){return r.$}});var r=n(59146)},49492:function(e,t,n){n.d(t,{c:function(){return ve}});var r=n(65526),a=n.n(r),l=n(27378),c=n.n(l),o=n(20169),i=n(36777),u=n(50878),s=n(31630),m=n(18474),d=n(60042),f=n.n(d),E="view-homeShortcutsGrid-shortcuts",p="view-homeShortcutsGrid-grid",g="view-homeShortcutsGrid-shortcutLink",y="view-homeShortcutsGrid-shortcut",h="view-homeShortcutsGrid-draggable",v="view-homeShortcutsGrid-imageContainer",k="view-homeShortcutsGrid-imageWrapper",b="view-homeShortcutsGrid-image",w="d4Z5nlOVhTfNjYtNTm7k",O="view-homeShortcutsGrid-main",C="view-homeShortcutsGrid-name",L="KD3hIDlmqoRuBGEBgh6V",_="view-homeShortcutsGrid-PlayButtonContainer",P="JMwv_vLYi2_hA1oFvmki",I=n(9807),T=n(44135),N=n(89341),S=n(191),j=n(9071),A=n(14298),D=n(60210),M=n(2398),R=n.n(M),B=n(35181),Y=n(66917),U=n.n(Y),W=n(34601),q=n(52370),x=n(27572),J=n(12743),G=n(12275),Z=n(16023),K=n(73429),V=n(88319),Q=n(99882),z=n(35511),F=n(54220),X=n(40299),$=n(60244);const H=c().memo((({images:e=[],fallbackIcon:t=W.e})=>{const n=(0,X.X)(e),r=null!=n&&n.url?k:w;return c().createElement("div",{className:v},c().createElement("div",{className:r},c().createElement($.E,{className:b,src:null==n?void 0:n.url,loading:"lazy",testid:"shortcut-image"},c().createElement(t,{"aria-hidden":!0}))))}));var ee=n(44084),te=n(23),ne=n(96689);const re=c().memo((({item:e,fallbackIcon:t,showPlayButton:n,onContextMenu:r=(()=>{}),onTouchStart:a=(()=>{}),onTouchEnd:o=(()=>{})})=>{var i,u;const s=(0,K.k6)(),m=(0,V.o)(),{setColorFromUri:d,resetColor:E}=(0,ee.WQ)(),p=(0,ne.G3)(e.uri,e.release_date,null===(i=e.resume_point)||void 0===i?void 0:i.resume_position_ms,null===(u=e.resume_point)||void 0===u?void 0:u.fully_played),{isPlaying:v,togglePlay:k}=(0,te.n)({uri:e.uri},{featureIdentifier:"home",referrerIdentifier:"home"});const b=(0,l.useCallback)((()=>{m({targetUri:e.uri,intent:"navigate",type:"click"}),s.push(U().from(e.uri).toURLPath(!0))}),[s,e.uri,m]),w=(0,l.useCallback)((()=>{d(e.uri)}),[e.uri,d]);return c().createElement("div",{className:y,onContextMenu:r,onTouchStart:a,onTouchEnd:o,onMouseEnter:w,onMouseLeave:E},c().createElement(Q.Z,{uri:e.uri,text:e.name,extraClassName:h},c().createElement(H,{images:e.images,fallbackIcon:t}),c().createElement("div",{className:O},c().createElement(F.r,{to:e.uri,onClick:b,title:e.name},c().createElement(I.Dy.p,{variant:I.Dy.balladBold,className:C},e.name)),p&&c().createElement(ne.Rd,{className:L}),n&&c().createElement("div",{className:f()(_,{[P]:v})},c().createElement(z.JM,{size:z.qE.sm,isPlaying:v,onClick:function(){m({targetUri:e.uri,intent:v?"pause":"play",type:"click"}),k()}}))),c().createElement("div",{onClick:b,className:g})))}));var ae=n(52003),le=n(7164),ce=n(75933),oe=n(18237);const ie=c().memo((e=>U().isCollection(e.item.uri)?c().createElement(re,R()({},e,{fallbackIcon:W.e})):c().createElement(G._,{menu:c().createElement(Z.X,{uri:e.item.uri})},c().createElement(re,R()({},e,{fallbackIcon:W.e}))))),ue=c().memo((e=>c().createElement(G._,{menu:c().createElement(ae.Y,{uri:e.item.uri})},c().createElement(re,R()({},e,{fallbackIcon:q.u}))))),se=c().memo((e=>c().createElement(G._,{menu:c().createElement(le.m,{uri:e.item.uri})},c().createElement(re,R()({},e,{fallbackIcon:x.i}))))),me=c().memo((e=>c().createElement(G._,{menu:c().createElement(ce.M,{uri:e.item.uri})},c().createElement(re,R()({},e,{fallbackIcon:J.n,showPlayButton:!1}))))),de=c().memo((e=>c().createElement(G._,{menu:c().createElement(oe.k,{uri:e.item.uri})},c().createElement(re,R()({},e,{fallbackIcon:J.n,showPlayButton:!1})))));var fe=n(83509);const Ee=c().memo((({tagline:e,items:t})=>{const{fetchMultipleColors:n}=(0,ee.WQ)(),[r,a]=(0,l.useState)(270),o=!(0,fe.k)(),i=(0,l.useRef)(null),u=(()=>{const e=(new Date).getHours();let t=B.ag.get("home.evening");return e>=5&&e<12?t=B.ag.get("home.morning"):e>=12&&e<18&&(t=B.ag.get("home.afternoon")),t})(),s=(0,l.useCallback)((()=>{const e=i.current;if(null==e||!e.parentElement)return;const t=(n=e.parentElement.offsetWidth)<700?240:n>=700&&n<1400?270:300;var n;t!==r&&a(t)}),[r]);(0,D.a)((()=>{s()})),(0,l.useLayoutEffect)((()=>{s()})),(0,l.useEffect)((()=>{const e=(null==t?void 0:t.map(ee.lh))||[];n(e)}),[t,n]);const m=(0,l.useCallback)(((e,n)=>{if(null==t||!t.length)return null;const r=n>=270;return c().createElement(c().Fragment,null,t.filter(((t,n)=>n<2*e)).map(((e,t)=>{const n=function(e){const t=(U().from(e)||{}).type;switch(t){case U().Type.ARTIST:return se;case U().Type.ALBUM:case U().Type.COLLECTION_ALBUM:return ue;case U().Type.PLAYLIST:case U().Type.PLAYLIST_V2:return ie;case U().Type.SHOW:return me;case U().Type.EPISODE:return de;case U().Type.COLLECTION:return ie;default:return console.warn(`Unable to resolve entity shortcut from ${e} of type "${t||"unknown"}"`),me}}(e.uri);return c().createElement(n,{key:e.id,item:e,showPlayButton:r,shouldSetBackgroundColor:0===t})})))}),[t]);return o||null==t||!t.length?null:c().createElement("section",{className:E,"aria-label":u,ref:i},c().createElement(S.r,{title:u,titleVariant:I.Dy.alto,tagline:e}),c().createElement(j.T,{className:f()(p),columnAware:!0,render:m,minimumColumnWidth:r,rowGap:A.o78}))})),pe=(0,T.P)(Ee,(()=>null),(e=>(0,N.v)({from:"HomeShortcutsGrid",error:e})));var ge=n(96816);function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ve=({spaces:e,viewName:t,viewId:n,isAnonymous:r})=>{const a=(0,l.useCallback)((e=>{const t=((e,t)=>{let{uri:n}=e;return e.href.includes("https://api.spotify.com/v1/views/")&&(n=e.href.replace("https://api.spotify.com/v1/views/","spotify:genre:"),n.endsWith("-page")||(n+="-page"),"hub-browse-grid"===t&&(n=n.replace(":view:",":genre:"))),n})(e,n),r=(0,s.U)(t);return c().createElement(r,{key:e.href,entity:he(he({},e),{},{uri:t})})}),[n]),d=(0,l.useCallback)(((e,t)=>{const n=(0,s.U)(e.uri);return c().createElement(u.JL,{key:e.uri||t,value:"card",index:t},c().createElement(n,{entity:e}))}),[]),f=(0,l.useCallback)(((e,t)=>{switch(e.type){case"link":return a(e);default:return d(e,t)}}),[d,a]),E=(0,l.useCallback)((e=>!((e=>"HEADER"===e.rendering)(e)||0===e.content.total||r&&"uniquely-yours-shelf"===e.id)),[r]);return e&&0!==e.length?e[0].content?c().createElement(c().Fragment,null,e.filter(E).map(((e,t)=>{const r=e.content&&(0,o.pL)((0,o.SK)(e.href));return e.id===i.RECENTLY_PLAYED_VIEW_ID||e.id===m.uK?c().createElement(u.JL,{value:"headered-grid",index:t,key:e.id},c().createElement(i.RecentlyPlayed,{showAll:!1})):"shortcuts"===e.id?c().createElement(u.JL,{value:"headered-grid",index:t,key:e.id},c().createElement(pe,{items:e.content.items,title:e.name,tagline:e.tag_line})):c().createElement(u.JL,{value:"headered-grid",index:t,key:e.id},c().createElement(ge.P,{total:e.content.total,seeAllUri:r,pageId:n,title:e.name,tagline:e.tag_line||void 0},e.content.items.map(f)))}))):c().createElement(u.JL,{value:"headered-grid"},c().createElement(ge.P,{showAll:!0,title:t,total:(null==e?void 0:e.length)||0},null==e?void 0:e.map(f))):null}}}]);
//# sourceMappingURL=754.js.map