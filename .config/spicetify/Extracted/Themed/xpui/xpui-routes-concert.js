"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[288],{90160:function(e,t,a){a.d(t,{Hr:function(){return r},qo:function(){return c},GJ:function(){return i},B$:function(){return l},pf:function(){return o},ak:function(){return s},B:function(){return m},X7:function(){return u}});var n=a(404);const r=e=>e?e.reduce(((e,t)=>(e.push(t.releases.items[0]),e)),[]):[],c=e=>`spotify:artist:${e}`,i=e=>`spotify:app:artist:${e}`,l=(e,t,a)=>{var n,r;return{artists:[{uri:t,name:a}],images:(null===(n=e.coverArt)||void 0===n?void 0:n.sources)||[],name:e.name,uri:e.uri,year:null===(r=e.date)||void 0===r?void 0:r.year,type:e.type,sharingInfo:e.sharingInfo}},o=e=>{var t,a;return{artists:e.artists.items.map((e=>({uri:e.uri,name:e.profile.name}))),images:(null===(t=e.coverArt)||void 0===t?void 0:t.sources)||[],name:e.name,uri:e.uri,year:null===(a=e.date)||void 0===a?void 0:a.year,type:e.type,sharingInfo:e.sharingInfo}},s=({uri:e,profile:{name:t},visuals:{avatarImage:a}})=>({uri:e,name:t,images:(null==a?void 0:a.sources)||[]}),m=({uri:e,name:t,description:a,images:{items:n},owner:r})=>({uri:e,name:t,owner:{display_name:(null==r?void 0:r.name)||t},description:a||"",images:n[0]&&n[0].sources?n[0].sources:[]}),u=({track:{uri:e,name:t,playcount:a,duration:{totalMilliseconds:r},contentRating:c,artists:{items:i},album:{coverArt:l,uri:o},playability:{playable:s}}},m)=>{var u;return{uri:e,contextUri:m,totalMilliseconds:r,name:t,contentRating:(null==c?void 0:c.label)||n.KS.None,isPlayable:s,playcount:parseInt(a||"0",10),artists:i.map((e=>({uri:e.uri,name:e.profile.name}))),imageUrl:null!=l&&null!==(u=l.sources)&&void 0!==u&&u.length?l.sources[0].url:"",albumUri:o}}},72246:function(e,t,a){a.d(t,{k:function(){return D}});var n=a(27378),r=a.n(n),c=a(62508),i=a(54220),l=a(4328),o=a(9807),s="_My6WIIVUHqLCPSWUIHG",m="o2WtIZKoEVLJ9SX8FnvK",u="zEAbeR_GJ2GyYBcDvy_X",g="_hQd31bwCsubIYFifuAR",d="H_kDITOf9mz4jX7HdBMz",v="KfG8BxSi_KqDnUir4hYP",y="_7fi25PFSOdc3Vn7AnSJ",E="_KZWAaN9xwYdXEqXSC53",h="_jHHDdi8JWJ6O24nOGS1",p="vCEXm7QKBdrt_sMJT8vj",_="TW1wD4WmXs881vWbPakl",f=a(12622),b=a(11931),N=a(10340);const D=r().memo((e=>{const{entity:t,isVirtual:a,shouldCombineRecs:n}=e,{venue:{name:D,location:{name:k}}}=t,$=t.artists[0],I=(0,c.ij)(t),w=new Date(t.date.isoString),U=a?b.q:N.K;return r().createElement(i.r,{to:`/concert/${t.id}`,className:s},$.imageUri?r().createElement(l.Z,null,r().createElement("div",{"data-testid":"image-container",className:_,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(${$.imageUri})`}})):null,r().createElement("time",{className:m,dateTime:t.date.isoString},r().createElement(o.Dy.h5,{variant:o.$e.minuetBold,className:u},(0,c.lJ)(w)),r().createElement(o.Dy.h1,{variant:o.$e.canon,className:g},w.getDate())),r().createElement("div",{className:d,dir:"auto"},r().createElement(o.Dy.h2,{className:p,variant:o.$e.minuetBold},(0,f.FO)(w),", ",(0,c.b8)(w)),r().createElement(o.Dy.h2,{variant:o.$e.cello,weight:o.vS.bold,className:v},I),r().createElement("div",{className:y},n?r().createElement(U,{className:E,"aria-label":a?"Virtual Event":"In-Person Event",iconSize:16}):null,r().createElement(o.Dy.h2,{className:h,variant:o.$e.mesto,"data-testid":"location-name"},a?D:`${D}, ${k}`))))}))},80927:function(e,t,a){a.r(t),a.d(t,{default:function(){return ve}});var n=a(27378),r=a.n(n),c=a(23104),i=a(73429),l=a(28979),o=a(58733),s=a(2398),m=a.n(s),u=a(35181),g=a(57940),d=a(90849),v=a(41805),y=a(10194),E=a(50878),h=a(96816),p=a(17220),_=a(54220),f=a(4328),b=a(9807),N="c5COJl_Wyqm2mFdNR_Mf",D="_BFTjvzJ1BrnpjiSjT82",k="y9RnVoqdJBr7DL833Iie",$="ICsDs1ljgNiHmnWVqKu7",I="_Twh_0vPvTWIUw23EmKd",w="_T9_2cmDdet6O_SqTeO3";const U=r().memo((e=>{const{entity:t,headliner:a}=e,{imageUri:n,name:c,uri:i}=t;return r().createElement(_.r,{to:i,className:N},n?r().createElement(f.Z,null,r().createElement("div",{"data-testid":"image-container",className:w,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(${n})`}})):null,r().createElement("div",{className:D},a&&r().createElement("div",{className:$},r().createElement(b.Dy.h4,{variant:b.$e.minuet,className:I,weight:b.vS.bold},u.ag.get("concert.label.headliner"))),r().createElement(b.Dy.h2,{variant:b.$e.alto,className:k},c)))}));var T={concertsHubCard:"UQcyzCO8opj1tHDxGz9Y",metadata:"lw691u0Wk7nN_Zbjj1_m",title:"_VlgUEEOy6oigoJ1UbWc",image:"_AclOTBocw_b0OTEsEs8"};const C=u.ag.get("concerts_browse_more"),O=r().memo((()=>r().createElement(_.r,{to:"spotify:concerts",className:T.concertsHubCard},r().createElement(f.Z,null,r().createElement("div",{className:T.image,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(https://concerts.spotifycdn.com/ConcertHubCard.png)"}})),r().createElement("div",{className:T.metadata},r().createElement(b.Dy.h2,{variant:b.$e.canon,className:T.name},C)))));var W=a(62508),j="aFbimaWFNJk9Npzwx6yq",A="ifNRoIWdoA0IIXjtx4yu",S="As3Zjda5GRce2xsTWjww",Z="ThFaOXYta127TYnxbdOb",J="_YNUt4yV5cZDwhaZ7ejv",x="AmU12x5w0k2MT8DiWaMv",P="RjLFXaKfQfnckh1bOlkU",Y="g45gSpyKWntDQfDGgeDT",F="Z37xM0DrP6IeNtZjicGm",B="Uku_HNmxe8aI0ATSkAF9",M="wAtUiu8wOWn6yyg1I7NG",q="yD7T9bRyQZ2Secww2zP1",G="VbMfTY1Fj9vI42X3oYf5",H="IZ4FuejCDo6nJStmJ_1V",K="oBDo3X8zib0qQbKr0F0y",X=a(58558),z=a(5312),R=a(61369),V=a(90160),L=a(72246),Q=a(88319),ee=a(88886),te=a(34761),ae=a(78939),ne=a(19421);const re=r().memo((({uri:e})=>r().createElement(E.ZP,{value:"concert"},r().createElement(te.v,null,r().createElement(ne.q,null,r().createElement(ae.Jx,{uri:e,displayText:u.ag.get("context-menu.copy-concert-link")}),r().createElement(ae.W2,{uri:e})),r().createElement(ae.h$,{uri:e})))));var ce=a(86268);const ie=(e,t)=>({artists:[{uri:t,name:e.artistName}],images:[{url:e.imageUri,height:100,width:100}],name:e.name,uri:e.uri,type:R.albumType.ALBUM}),le=e=>{const t=new Date(Date.parse(e.date));return r().createElement("div",{className:j},r().createElement(b.Dy.h3,{variant:b.$e.canon,className:A},(0,W.NL)(t)))},oe=e=>{const{clickThrus:t,ticketing:a,date:n,venue:c,location:i,clickThruUrl:l,id:o,category:s,lat:m,lon:g,ticketAvailabilityTranslated:d}=e,v=new Date(Date.parse(n)),y=`spotify:concert:${o}`,E="ONLINE"===s,h=(0,Q.o)();let p="";if(!t||!t.length)return null;const f=t[0].partnerDisplayName;p="Songkick"===f?u.ag.get("concert.header.partner_songkick_attribution",f):a&&a[0]&&a[0].minPrice?u.ag.get("concert.header.partner_price_attribution",a[0].minPrice,f):u.ag.get("concert.header.partner_attribution",f),E&&(p=u.ag.get("concert_available_through",f));const N=E?u.ag.get("concert_find_virtual_event"):u.ag.get("concert.button.see_tickets");if((0,W.O1)(v))return r().createElement("div",{className:P},r().createElement(b.Dy.h3,{variant:b.$e.canon},u.ag.get("concert_event_ended")),r().createElement(b.Dy.span,null,r().createElement(_.Z,{to:"spotify:concerts"},u.ag.get("concert_past_message"))));return r().createElement("div",{className:P},r().createElement(b.Dy.h3,{variant:b.$e.canon},(()=>{if(E)return r().createElement(b.Dy.h3,{variant:b.$e.canon},c);const e=`https://maps.google.com/?q=${encodeURIComponent(`${c},${i}`)}&ll=${m},${g}`;return r().createElement(_.Z,{to:e,target:"_blank"},r().createElement(b.Dy.h3,{variant:b.$e.canon},`${c}, ${i}`))})()),r().createElement(b.Dy.h3,{variant:b.$e.mesto,className:K},(0,W.Ms)(v)," â€¢ ",(0,W.b8)(v)),r().createElement(b.Dy.h3,{className:x,variant:b.$e.mesto},p),d&&d.length>0&&r().createElement(b.Dy.h3,{className:x,variant:b.$e.mesto},d),r().createElement("div",{className:Y},r().createElement(_.Z,{draggable:!1,className:F,to:l,target:"_blank"},r().createElement(X.Y,{version:"secondary",onClick:function(){h({targetUri:y,intent:"find-concert",type:"click"})}},N)),r().createElement(ee.y,{menu:r().createElement(re,{uri:y})},r().createElement(z.z,{size:32,className:B}))))},se=e=>{const{albums:t,artists:a}=e,n=t.reduce(((e,t)=>{const a=t.artistName;return e[a]?e[a].push(t):e[a]=[t],e}),{});return r().createElement("div",{className:M},a.map(((e,t)=>{const a=n[e.name]||[],c=a.length+2;let i=a.map(((t,a)=>r().createElement(p.r,{key:a,entity:ie(t,e.uri)})));return i=[null,r().createElement(U,{entity:e,headliner:0===t})].concat(i),r().createElement(E.ZP,{value:"headered-grid",index:t},r().createElement(h.P,{title:0===t?u.ag.get("concert_lineup"):"",total:c,seeAllUri:`${(0,V.GJ)(e.id)}:discography`,seeAllLabel:u.ag.get("artist-page.show-discography")},i))})))},me=e=>{const t=e.upcomingConcerts;if(!t||t.length<1)return null;const a=t.map((e=>r().createElement(L.k,{entity:e})));return a.unshift(r().createElement(O,null)),r().createElement("div",{className:H},r().createElement(E.ZP,{value:"headered-grid"},r().createElement(h.P,{title:u.ag.get("concerts_more_events"),total:t.length+1},a)))},ue=e=>{const{concert:t,upcomingConcerts:a,artists:n,albums:c,color:i,headerImageUri:l,ticketAvailabilityTranslated:o}=e.concert,s=[{url:l,width:100,height:100}];(0,ce.Y)(i);const E=(0,Q.o)();const h="ONLINE"===t.category?u.ag.get("concert_find_virtual_event"):u.ag.get("concert.button.see_tickets");return r().createElement("section",{className:Z},r().createElement(g.gF,{backgroundImages:s,backgroundColor:i},r().createElement(g.sP,null,r().createElement(g.T0,null,r().createElement(le,t)),r().createElement(g.xd,null,(0,W.Yl)(t))),r().createElement(d.W,null,r().createElement("div",{className:q},r().createElement(v.i,{text:(0,W.Yl)(t)}),r().createElement(_.Z,{draggable:!1,className:F,to:t.clickThruUrl,target:"_blank"},r().createElement(X.Y,{version:"secondary",className:G,onClick:function(){E({targetUri:`spotify:concert:${t.id}`,intent:"find-concert",type:"click"})}},h))))),r().createElement("div",{className:S},r().createElement(y.I,{backgroundColor:i}),r().createElement("div",{className:J},r().createElement(oe,m()({},t,{ticketAvailabilityTranslated:o})),r().createElement(se,{artists:n,albums:c}),r().createElement(me,{upcomingConcerts:a}))))};var ge=r().memo(ue),de=a(36726);var ve=r().memo((()=>{const{concertId:e}=(0,i.UO)(),t=(0,c.I0)(),a=`spotify:concert:${e}`,s=(0,c.v9)((e=>(0,o.G6)(a,e)));return(0,n.useEffect)((()=>{t((0,l.l$)(e))}),[t,e]),s?r().createElement(ge,{concert:s}):r().createElement(de.h,{errorMessage:u.ag.get("concert.error.concert_not_found_title")})}))},62508:function(e,t,a){a.d(t,{Ms:function(){return r},b8:function(){return c},lJ:function(){return i},NL:function(){return l},O1:function(){return o},Yl:function(){return u},ij:function(){return g}});var n=a(35181);const r=e=>n.ag.formatDate(e,{weekday:"short",month:"short",day:"numeric"}),c=e=>n.ag.formatDate(e,{hour:"numeric",minute:"numeric"}),i=e=>n.ag.formatDate(e,{month:"short"}).toUpperCase(),l=e=>n.ag.formatDate(e,{month:"short",day:"numeric"}).toUpperCase(),o=e=>e<new Date,s={row:{1:e=>n.ag.get("concert.header.entity_title_1",...e),2:e=>n.ag.get("concert.header.entity_title_2",...e),3:e=>n.ag.get("concert.header.entity_title_3",...e),4:e=>n.ag.get("concert.header.entity_title_4",...e),more:e=>n.ag.get("concert.header.entity_title_more",...e)},entity:{1:e=>n.ag.get("concert.header.upcoming_concert_title_1",...e),2:e=>n.ag.get("concert.header.upcoming_concert_title_2",...e),3:e=>n.ag.get("concert.header.upcoming_concert_title_3",...e),4:e=>n.ag.get("concert.header.upcoming_concert_title_4",...e),more:e=>n.ag.get("concert.header.upcoming_concert_title_more",...e)}},m=(e,t)=>{const a=s[t],n=(e=>{try{var t;return!e.title||!e.festival&&null!==(t=e.artists)&&void 0!==t&&t.length?{artists:e.artists.map((e=>e.name||e.profile.name))}:{title:e.title}}catch(e){return null}})(e);if(n){if(n.title)return n.title;if(n.artists)return n.artists.length>4?a.more(n.artists):a[n.artists.length](n.artists)}return""},u=e=>m(e,"row"),g=e=>m(e,"entity")}}]);
//# sourceMappingURL=xpui-routes-concert.js.map