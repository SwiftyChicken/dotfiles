!function(){var e,t={7803:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,{ENTER_LOGIN_MODE:function(){return S},ENTER_SETTINGS_MODE:function(){return v},ENTER_SIGNUP_MODE:function(){return y},ENTER_SIGNUP_MODE_STEP_0:function(){return _},ENTER_SIGNUP_MODE_STEP_1:function(){return E},ENTER_WELCOME_MODE:function(){return w},INTERACTION:function(){return k},REMOTE_CONFIG_PROPS:function(){return O},START_APP:function(){return b},enterLoginMode:function(){return N},enterSettingsMode:function(){return D},enterSignupMode:function(){return P},enterSignupModeStep0:function(){return I},enterSignupModeStep1:function(){return T},enterWelcomeMode:function(){return A},interaction:function(){return L},openSignupPage:function(){return F},remoteConfigProps:function(){return U},startApp:function(){return C}});var o={};n.r(o),n.d(o,{ABORT_LOGIN_TYPE_ACCOUNTS:function(){return de},ACCOUNTS_METHODS:function(){return ge},LOADING:function(){return ie},LOGIN_BEFORE:function(){return te},LOGIN_CLEAR_ERRORS:function(){return re},LOGIN_FAIL:function(){return oe},LOGIN_SUCCESS:function(){return ne},LOGIN_TYPE_ACCOUNTS:function(){return pe},LOGIN_TYPE_AUTOLOGIN:function(){return ue},LOGIN_TYPE_EMAIL:function(){return ae},LOGIN_TYPE_FACEBOOK:function(){return le},LOGIN_TYPE_FACEBOOK_POPUP:function(){return ce},UTM_PARAMETERS:function(){return se},abortLoginWithAccounts:function(){return Se},fetchUTMParameters:function(){return ve},loading:function(){return be},login:function(){return _e},loginClearErrors:function(){return Oe},loginFailed:function(){return fe},loginSuccess:function(){return me},loginWithAccounts:function(){return Ee},loginWithFacebookPopup:function(){return we},receivedUTMParameters:function(){return ke}});var i={};n.r(i),n.d(i,{CLEAR_ALL_ERRORS:function(){return Qe},COUNTRY_NOT_LAUNCHED:function(){return Ze},FACEBOOK_SIGNUP_ATTEMPT:function(){return Ve},FACEBOOK_SIGNUP_FAILURE:function(){return Ke},FACEBOOK_SIGNUP_SUCCESS:function(){return ze},SIGNUP_ATTEMPT:function(){return We},SIGNUP_FAILURE:function(){return He},SIGNUP_RESTRICTIONS_FAILURE:function(){return Ge},SIGNUP_RESTRICTIONS_SUCCESS:function(){return Be},SIGNUP_SUCCESS:function(){return $e},UPDATE_SIGNUP_DATA:function(){return Je},VALIDATE_FIELD_ATTEMPT:function(){return Ye},VALIDATE_FIELD_FAILURE:function(){return qe},VALIDATE_FIELD_SUCCESS:function(){return Xe},clearAllErrors:function(){return bt},countryNotLaunched:function(){return ft},facebookSignup:function(){return ct},facebookSignupFailure:function(){return pt},facebookSignupSuccess:function(){return ut},getSignupRestrictions:function(){return et},signup:function(){return rt},signupAttempt:function(){return it},signupFailure:function(){return at},signupRestrictionsFailure:function(){return nt},signupRestrictionsSuccess:function(){return tt},signupSuccess:function(){return st},signupWithAccounts:function(){return lt},updateSignupData:function(){return mt},validateField:function(){return ot},validateFieldAttempt:function(){return dt},validateFieldFailure:function(){return gt},validateFieldSuccess:function(){return ht}});var s={};n.r(s),n.d(s,{SETTINGS_FETCH_PROXY_SETTINGS_FAILURE:function(){return Ft},SETTINGS_FETCH_PROXY_SETTINGS_SUCCESS:function(){return Ut},SETTINGS_RESTART_CLIENT_FAILURE:function(){return xt},SETTINGS_RESTART_CLIENT_SUCCESS:function(){return Rt},SETTINGS_UPDATE_PROXY_SETTINGS_FAILURE:function(){return Mt},SETTINGS_UPDATE_PROXY_SETTINGS_SUCCESS:function(){return Lt},fetchProxySettings:function(){return jt},restartClient:function(){return Gt},updateProxySettings:function(){return Bt}});var a=n(7378),l=n.n(a),c=n(1542),u=n.n(c),p=n(6602),d=n(3104),g=n(1988),h=n(5023),m=n(5526),f=n.n(m);const b="START_APP",y="ENTER_SIGNUP_MODE",_="ENTER_SIGNUP_MODE_STEP_0",E="ENTER_SIGNUP_MODE_STEP_1",S="ENTER_LOGIN_MODE",w="ENTER_WELCOME_MODE",v="ENTER_SETTINGS_MODE",k="INTERACTION",O="REMOTE_CONFIG_PROPS";function C(){return{type:b}}function P(e=null){return{type:y,actionHash:e}}function I(){return{type:_}}function T(){return{type:E}}function N(e=null){return{type:S,actionHash:e}}function A(e=null){return{type:w,errorMessage:e}}function D(){return{type:v}}function U(e){return{type:O,props:e}}function F(e=!1){return(t,n)=>{const r=n();let o,i={};switch(e?"website":"desktop-app"){case"desktop-app":t(P());break;case"website":{i=r.login.utmParameters||{utm_source:"spotify",utm_medium:"desktop-unknown",utm_campaign:"organic",referral:""};const e=Object.keys(i).reduce(((e,t)=>(e[t]=encodeURIComponent(i[t]),e)),{});o=`https://www.spotify.com/signup?utm_source=${e.utm_source}&utm_medium=${e.utm_medium}&utm_campaign=${e.utm_campaign}`,e.referral&&(o+=`&referral=${e.referral}&referrer=${e.referral}`),window.open(o);break}}}}function L(e,t,n,r,o){return{type:k,page:e,interactionType:t,intent:n,itemId:r,actionHash:o}}var M=e=>n.g&&"function"==typeof n.g._getSpotifyModule?new Promise(((t,r)=>{n.g._getSpotifyModule("bridge").executeRequest(JSON.stringify(e),{onSuccess:t,onFailure:r})})):null;const R="https://www.spotify.com/redirect/account-page/",x="showSettings",j={id:"UnknownLoginErrorMessage"},B={id:"DefaultErrorMessage",replace:[x]},G={id:"FbFailureOpenPopup",silent:!0},W={127:{id:"SessionTerminatedMessage"},3:{id:"BadCredentialsMessage"},4:{id:"ErrorResolvingDNS"},53:{id:"ErrorProxyUnauthorized"},54:{id:"ErrorProxyForbidden"},55:{id:"ErrorProxyAuthRequired",replace:[x]},400:j,401:j,402:{id:"CriticalUpdate"},403:{id:"UserBannedMessage"},404:j,405:j,406:{id:"UserNotAllowedOnPlatformMessage"},407:{id:"MissingUserInfoMessage",replace:[R]},408:{id:"RegionMismatchMessage",replace:[R,"https://www.spotify.com/redirect/upgrade-product/"]},409:{id:"PremiumUsersOnlyMessage"},410:{id:"BadCredentialsMessage"},411:j,412:{id:"BadCredentialsMessage"},413:{id:"CreateUserDeniedMessage"},414:j,415:j,416:j,417:{id:"FacebookCredentialsMisusedMessage"},418:j,"critical-update-error":{id:"ClientUpdateFail",replace:["https://www.spotify.com/redirect/download/"]},1001:{silent:!0},1002:G,1003:{id:"FbUserNotFoundSignUp",replace:["showSignup"]},1004:G,1005:G,1006:G},H={1:j,2:j,3:{id:"BadCredentialsMessage"},4:j,5:j,6:j,7:j,8:j,9:j},$={1:{silent:!0},2:j,3:j,4:{id:"SessionExpiredMessage"},5:B};var V=window.localStorage;function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Y="lastUsername",q="THIS_USER_DOES_NOT_EXIST_AND_IS_A_PLACEHOLDER",X="utmParameters",J=V.getItem(X),Z=V.getItem(Y),Q={errorData:null,loginInProgress:!1,redirectTo:null,username:Z!==q?Z:"",utmParameters:J?JSON.parse(J):null};var ee=function(e=Q,t){switch(t.type){case $t.LOADING:return K(K({},e),{},{loading:!0,throbberDelay:t.throbberDelay});case $t.LOGIN_FAIL:return K(K({},e),{},{loading:!1,errorData:t.errorData,loggedIn:!1,loginInProgress:!1});case $t.LOGIN_BEFORE:return K(K({},e),{},{errorData:t.errorData,loggedIn:!1,loginInProgress:t.loginInProgress,username:t.username});case $t.LOGIN_SUCCESS:return K(K({},e),{},{loading:!1,loggedIn:!0,redirectDelay:t.redirectDelay||0,redirectTo:t.redirectTo,username:t.username});case $t.UTM_PARAMETERS:return K(K({},e),{},{utmParameters:t.utmParameters});case $t.LOGIN_CLEAR_ERRORS:return K(K({},e),{},{errorData:null});default:return e}};const te="LOGIN_BEFORE",ne="LOGIN_SUCCESS",re="LOGIN_CLEAR_ERRORS",oe="LOGIN_FAIL",ie="LOADING",se="UTM_PARAMETERS",ae="login",le="login-facebook",ce="login-facebook-popup",ue="autologin",pe="login-accounts",de="abort-login-accounts",ge={facebook:"facebook",apple:"apple",google:"google"};function he(e,t=ae){return{type:te,errorData:null,username:e||"",loginInProgress:t===ae,loginType:t}}function me(e,t,n=ae,r=!1,o){return{type:ne,errorData:null,redirectTo:o,redirectDelay:t||0,username:e,loginType:n,afterSignup:r}}function fe(e,t=ae){return{type:oe,errorData:e,loginType:t}}function be(e){return{type:ie,throbberDelay:e&&e.throbberDelay?e.throbberDelay:0}}const ye=async(e,t,{defaultErrorCode:n,redirectDelay:r=0}={},o=ae,i=!1,s=null,a=!0)=>{s&&(t.args=t.args||[],t.args[0]=t.args[0]||{},t.args[0].actionHash=s);try{const n=JSON.parse(await M(t)).redirectTo||"xpui";let s=null;t&&t.args&&t.args[0]&&(s=t.args[0].username),e(me(a?s:q,r,o,i,n))}catch(t){let r=t;n?r={errorCode:n}:"string"==typeof t&&(r=JSON.parse(t)),r.errorCode&&W[r.errorCode]&&"FbFailureOpenPopup"===W[r.errorCode].id?e(we(s)):e(fe(r,o))}};function _e({username:e,password:t,rememberMe:n},r=!1,o=null){return i=>{const s=r?ue:ae;i(he(n?e:q,s));ye(i,{name:ae,args:[{username:e,password:t,rememberMe:n}]},{redirectDelay:200},s,r,o,n)}}function Ee(e,t){return n=>{n(he(null,pe));ye(n,{name:pe,args:[{method:e,enableSignup:!1}]},{redirectDelay:200},pe,!1,t)}}function Se(){return async()=>{await M({name:de,args:[]})}}function we(e=null){return t=>{t(he(null,le));ye(t,{name:ce,args:[]},{redirectDelay:200},le,!1,e)}}function ve(){return async e=>{e(ke(JSON.parse(await M({name:"get-signup-utm-parameters",args:[]}))))}}function ke(e){return{type:se,utmParameters:e}}function Oe(){return{type:re}}var Ce=n(2666),Pe=n.n(Ce),Ie=n(9245),Te=n.n(Ie);const Ne=["errors"];function Ae(){const e="undefined"!=typeof window&&window.__spotify&&window.__spotify.DESKTOP_SIGNUP_DEBUG_KEY;return e||"4c7a36d5260abca4af282779720cf631"}function De(){const e="undefined"!=typeof window&&window.__spotify&&window.__spotify.client_version||"";if(!e)throw new Error("Missing Spotify App Version! Something is wrong: talk to #desktop-squad.");return["Spotify-App-Version",e]}function Ue(){const e="undefined"!=typeof window&&window.navigator&&window.navigator.platform||"";let t="";if(-1!==e.indexOf("Mac")?t="OSX":-1!==e.indexOf("Win")?t="Win32":-1!==e.indexOf("Linux")&&(t="Linux"),!t)throw new Error("Missing App Platform! Something is wrong: talk to #desktop-squad.");return["App-Platform",t]}function Fe(e){const t=new Map(Object.entries(e).sort()),n=function(e){const t=Te().create();return e.forEach((e=>{void 0!==e&&t.update(e.toString())})),t.hex()}(t);if(t.size>n.length)return t;const r=[...t],o=[...Array(t.size).keys()].sort((function(e,t){const o=n.charAt(e).localeCompare(n.charAt(t));return 0!==o?o:r[e][0].localeCompare(r[t][0])})),i=new Map;return o.forEach((function(e){i.set(r[e][0],r[e][1])})),i}const Le=e=>async(t,n,r)=>{const o=function({name:e,email:t,password:n,gender:r,birthDate:o={},sendEmail:i,shareData:s,agreeEula:a}={},l={utm_source:"spotify",utm_medium:"desktop-unknown",utm_campaign:"organic",referral:""},c=!1){const u=Object.keys(l).reduce(((e,t)=>(e[t]=encodeURIComponent(l[t]),e)),{});let p=`https://login.app.spotify.com?utm_source=${u.utm_source}&utm_medium=${u.utm_medium}&utm_campaign=${u.utm_campaign}`;u.referral&&(p+=`&referral=${u.referral}&referrer=${u.referral}`);const d={key:Ae(),displayname:e,email:t,password:n,password_repeat:n,gender:r,birth_year:o.year,birth_month:o.month,birth_day:o.day,iagree:a?1:0,creation_point:p,creation_flow:"desktop",platform:"desktop",referrer:u.referral};return"boolean"==typeof i&&(d["send-email"]=i),"boolean"==typeof s&&(d.thirdpartyemail=s),c&&Object.keys(d).forEach((e=>{void 0===d[e]&&delete d[e]})),Fe(d)}(t,n,r),i=new FormData;o.forEach(((e,t)=>{i.append(t,e)}));const s=[De(),Ue()].reduce(((e,t)=>(e[t[0]]=t[1],e)),{}),a={method:"POST",body:i,headers:{"App-Platform":s["App-Platform"],"Spotify-App-Version":s["Spotify-App-Version"],"X-Client-Id":{NODE_ENV:"production",DEBUG_EVENT_SENDER:!1,DEBUG_SEMANTIC_METRICS:void 0,CDN_FILE_URLS:'{"fonts/CircularSpUIAraOnly-Black.otf":"/fonts/CircularSpUIAraOnly-Black.otf","fonts/CircularSpUIAraOnly-Black.woff":"/fonts/CircularSpUIAraOnly-Black.woff","fonts/CircularSpUIAraOnly-Black.woff2":"/fonts/CircularSpUIAraOnly-Black.woff2","fonts/CircularSpUIAraOnly-Bold.otf":"/fonts/CircularSpUIAraOnly-Bold.otf","fonts/CircularSpUIAraOnly-Bold.woff":"/fonts/CircularSpUIAraOnly-Bold.woff","fonts/CircularSpUIAraOnly-Bold.woff2":"/fonts/CircularSpUIAraOnly-Bold.woff2","fonts/CircularSpUIAraOnly-Book.otf":"/fonts/CircularSpUIAraOnly-Book.otf","fonts/CircularSpUIAraOnly-Book.woff":"/fonts/CircularSpUIAraOnly-Book.woff","fonts/CircularSpUIAraOnly-Book.woff2":"/fonts/CircularSpUIAraOnly-Book.woff2","fonts/CircularSpUIAraOnly-Light.otf":"/fonts/CircularSpUIAraOnly-Light.otf","fonts/CircularSpUIAraOnly-Light.woff":"/fonts/CircularSpUIAraOnly-Light.woff","fonts/CircularSpUIAraOnly-Light.woff2":"/fonts/CircularSpUIAraOnly-Light.woff2","fonts/CircularSpUICyrOnly-Black.otf":"/fonts/CircularSpUICyrOnly-Black.otf","fonts/CircularSpUICyrOnly-Black.woff":"/fonts/CircularSpUICyrOnly-Black.woff","fonts/CircularSpUICyrOnly-Black.woff2":"/fonts/CircularSpUICyrOnly-Black.woff2","fonts/CircularSpUICyrOnly-Bold.otf":"/fonts/CircularSpUICyrOnly-Bold.otf","fonts/CircularSpUICyrOnly-Bold.woff":"/fonts/CircularSpUICyrOnly-Bold.woff","fonts/CircularSpUICyrOnly-Bold.woff2":"/fonts/CircularSpUICyrOnly-Bold.woff2","fonts/CircularSpUICyrOnly-Book.otf":"/fonts/CircularSpUICyrOnly-Book.otf","fonts/CircularSpUICyrOnly-Book.woff":"/fonts/CircularSpUICyrOnly-Book.woff","fonts/CircularSpUICyrOnly-Book.woff2":"/fonts/CircularSpUICyrOnly-Book.woff2","fonts/CircularSpUICyrOnly-Light.otf":"/fonts/CircularSpUICyrOnly-Light.otf","fonts/CircularSpUICyrOnly-Light.woff":"/fonts/CircularSpUICyrOnly-Light.woff","fonts/CircularSpUICyrOnly-Light.woff2":"/fonts/CircularSpUICyrOnly-Light.woff2","fonts/CircularSpUIHbrOnly-Black.otf":"/fonts/CircularSpUIHbrOnly-Black.otf","fonts/CircularSpUIHbrOnly-Black.woff":"/fonts/CircularSpUIHbrOnly-Black.woff","fonts/CircularSpUIHbrOnly-Black.woff2":"/fonts/CircularSpUIHbrOnly-Black.woff2","fonts/CircularSpUIHbrOnly-Bold.otf":"/fonts/CircularSpUIHbrOnly-Bold.otf","fonts/CircularSpUIHbrOnly-Bold.woff":"/fonts/CircularSpUIHbrOnly-Bold.woff","fonts/CircularSpUIHbrOnly-Bold.woff2":"/fonts/CircularSpUIHbrOnly-Bold.woff2","fonts/CircularSpUIHbrOnly-Book.otf":"/fonts/CircularSpUIHbrOnly-Book.otf","fonts/CircularSpUIHbrOnly-Book.woff":"/fonts/CircularSpUIHbrOnly-Book.woff","fonts/CircularSpUIHbrOnly-Book.woff2":"/fonts/CircularSpUIHbrOnly-Book.woff2","fonts/CircularSpUIHbrOnly-Light.otf":"/fonts/CircularSpUIHbrOnly-Light.otf","fonts/CircularSpUIHbrOnly-Light.woff":"/fonts/CircularSpUIHbrOnly-Light.woff","fonts/CircularSpUIHbrOnly-Light.woff2":"/fonts/CircularSpUIHbrOnly-Light.woff2","fonts/CircularSpUIv3T-Black.ttf":"/fonts/CircularSpUIv3T-Black.ttf","fonts/CircularSpUIv3T-Black.woff":"/fonts/CircularSpUIv3T-Black.woff","fonts/CircularSpUIv3T-Black.woff2":"/fonts/CircularSpUIv3T-Black.woff2","fonts/CircularSpUIv3T-Bold.ttf":"/fonts/CircularSpUIv3T-Bold.ttf","fonts/CircularSpUIv3T-Bold.woff":"/fonts/CircularSpUIv3T-Bold.woff","fonts/CircularSpUIv3T-Bold.woff2":"/fonts/CircularSpUIv3T-Bold.woff2","fonts/CircularSpUIv3T-Book.ttf":"/fonts/CircularSpUIv3T-Book.ttf","fonts/CircularSpUIv3T-Book.woff":"/fonts/CircularSpUIv3T-Book.woff","fonts/CircularSpUIv3T-Book.woff2":"/fonts/CircularSpUIv3T-Book.woff2","fonts/CircularSpUIv3T-Light.ttf":"/fonts/CircularSpUIv3T-Light.ttf","fonts/CircularSpUIv3T-Light.woff":"/fonts/CircularSpUIv3T-Light.woff","fonts/CircularSpUIv3T-Light.woff2":"/fonts/CircularSpUIv3T-Light.woff2","fonts/spoticon_regular_2.ttf":"/fonts/spoticon_regular_2.ttf","fonts/spoticon_regular_2.woff":"/fonts/spoticon_regular_2.woff","fonts/spoticon_regular_2.woff2":"/fonts/spoticon_regular_2.woff2","images/checkmark.png":"/images/checkmark.png","images/concert-hub-fb-card.png":"/images/concert-hub-fb-card.png","images/concert-hub-header.png":"/images/concert-hub-header.png","images/concert-hub-iphone-de.png":"/images/concert-hub-iphone-de.png","images/concert-hub-iphone-el.png":"/images/concert-hub-iphone-el.png","images/concert-hub-iphone-en.png":"/images/concert-hub-iphone-en.png","images/concert-hub-iphone-es_419.png":"/images/concert-hub-iphone-es_419.png","images/concert-hub-iphone-es.png":"/images/concert-hub-iphone-es.png","images/concert-hub-iphone-fi.png":"/images/concert-hub-iphone-fi.png","images/concert-hub-iphone-fr_CA.png":"/images/concert-hub-iphone-fr_CA.png","images/concert-hub-iphone-fr.png":"/images/concert-hub-iphone-fr.png","images/concert-hub-iphone-hu.png":"/images/concert-hub-iphone-hu.png","images/concert-hub-iphone-id.png":"/images/concert-hub-iphone-id.png","images/concert-hub-iphone-it.png":"/images/concert-hub-iphone-it.png","images/concert-hub-iphone-ja.png":"/images/concert-hub-iphone-ja.png","images/concert-hub-iphone-ms.png":"/images/concert-hub-iphone-ms.png","images/concert-hub-iphone-nl.png":"/images/concert-hub-iphone-nl.png","images/concert-hub-iphone-pl.png":"/images/concert-hub-iphone-pl.png","images/concert-hub-iphone-pt_BR.png":"/images/concert-hub-iphone-pt_BR.png","images/concert-hub-iphone-sv.png":"/images/concert-hub-iphone-sv.png","images/concert-hub-iphone-tr.png":"/images/concert-hub-iphone-tr.png","images/concert-hub-iphone-zh_TW.png":"/images/concert-hub-iphone-zh_TW.png","images/concert-hub-twitter-card.png":"/images/concert-hub-twitter-card.png","images/connect_header@1x.png":"/images/connect_header@1x.png","images/connect-to-devices-white.svg":"/images/connect-to-devices-white.svg","images/desktop-auth-check.svg":"/images/desktop-auth-check.svg","images/desktop-auth-error.svg":"/images/desktop-auth-error.svg","images/devices/android.png":"/images/devices/android.png","images/devices/ios.png":"/images/devices/ios.png","images/devices/mac-web.png":"/images/devices/mac-web.png","images/devices/mac.png":"/images/devices/mac.png","images/devices/windowsphone.png":"/images/devices/windowsphone.png","images/embed-podcast/upsell-background.png":"/images/embed-podcast/upsell-background.png","images/embed/copy-32_circle_grey_outline_bg.svg":"/images/embed/copy-32_circle_grey_outline_bg.svg","images/embed/embed-code-32_circle_grey_outline_bg.svg":"/images/embed/embed-code-32_circle_grey_outline_bg.svg","images/embed/fb_colour.svg":"/images/embed/fb_colour.svg","images/embed/messenger_colour.svg":"/images/embed/messenger_colour.svg","images/embed/twitter_colour.svg":"/images/embed/twitter_colour.svg","images/embed/whatsapp.svg":"/images/embed/whatsapp.svg","images/emi.png":"/images/emi.png","images/employee-podcasts-modal-art.png":"/images/employee-podcasts-modal-art.png","images/equaliser-animated-green.gif":"/images/equaliser-animated-green.gif","images/equaliser-green.svg":"/images/equaliser-green.svg","images/favicon.ico":"/images/favicon.ico","images/favicon.png":"/images/favicon.png","images/favicon16.png":"/images/favicon16.png","images/favicon32.png":"/images/favicon32.png","images/focused_stroy_play.png":"/images/focused_stroy_play.png","images/follow/avatar-placeholder.png":"/images/follow/avatar-placeholder.png","images/follow/sprite.gif":"/images/follow/sprite.gif","images/follow/sprite@1.png":"/images/follow/sprite@1.png","images/hifi-button-off.svg":"/images/hifi-button-off.svg","images/hifi-button-on.svg":"/images/hifi-button-on.svg","images/hifi.svg":"/images/hifi.svg","images/home-icon.svg":"/images/home-icon.svg","images/icons/Spotify_1024.png":"/images/icons/Spotify_1024.png","images/icons/Spotify_128.png":"/images/icons/Spotify_128.png","images/icons/Spotify_16.png":"/images/icons/Spotify_16.png","images/icons/Spotify_256.png":"/images/icons/Spotify_256.png","images/icons/Spotify_32.png":"/images/icons/Spotify_32.png","images/icons/Spotify_512.png":"/images/icons/Spotify_512.png","images/icons/Spotify_64.png":"/images/icons/Spotify_64.png","images/icons/Spotify_MWP_192.png":"/images/icons/Spotify_MWP_192.png","images/icons/Spotify_MWP_512.png":"/images/icons/Spotify_MWP_512.png","images/improved-modal-bg.jpg":"/images/improved-modal-bg.jpg","images/login-background.jpg":"/images/login-background.jpg","images/login-signup-burst.svg":"/images/login-signup-burst.svg","images/logo-complete-black.svg":"/images/logo-complete-black.svg","images/logo-white-2x.png":"/images/logo-white-2x.png","images/merlin.png":"/images/merlin.png","images/mid-year.png":"/images/mid-year.png","images/moviebuff.png":"/images/moviebuff.png","images/og-image.png":"/images/og-image.png","images/orchard.png":"/images/orchard.png","images/playlist-folder-filled.svg":"/images/playlist-folder-filled.svg","images/rovi.png":"/images/rovi.png","images/s2l-desktopui-ltr.png":"/images/s2l-desktopui-ltr.png","images/s2l-desktopui-rtl.png":"/images/s2l-desktopui-rtl.png","images/s2l-mobileui.png":"/images/s2l-mobileui.png","images/sony.png":"/images/sony.png","images/spotifylogo.svg":"/images/spotifylogo.svg","images/station-header-wave.svg":"/images/station-header-wave.svg","images/station-wave.svg":"/images/station-wave.svg","images/sw_saber_ahsoka1.png":"/images/sw_saber_ahsoka1.png","images/sw_saber_anakin.png":"/images/sw_saber_anakin.png","images/sw_saber_leia.png":"/images/sw_saber_leia.png","images/sw_saber_luke.png":"/images/sw_saber_luke.png","images/sw_saber_mace.png":"/images/sw_saber_mace.png","images/sw_saber_rey.png":"/images/sw_saber_rey.png","images/sw_saber_vader.png":"/images/sw_saber_vader.png","images/touch-icon-114.png":"/images/touch-icon-114.png","images/touch-icon-144.png":"/images/touch-icon-144.png","images/touch-icon-57.png":"/images/touch-icon-57.png","images/touch-icon-72.png":"/images/touch-icon-72.png","images/tracklist-placeholder.png":"/images/tracklist-placeholder.png","images/tracklist-row-episode-fallback.svg":"/images/tracklist-row-episode-fallback.svg","images/tracklist-row-song-fallback.svg":"/images/tracklist-row-song-fallback.svg","images/tracklist-row-video-fallback.svg":"/images/tracklist-row-video-fallback.svg","images/universal.png":"/images/universal.png","images/vinyl-bottom-layer.svg":"/images/vinyl-bottom-layer.svg","images/vinyl-top-layer.svg":"/images/vinyl-top-layer.svg","images/warner.png":"/images/warner.png","images/zara-larsson-singles.png":"/images/zara-larsson-singles.png","js/fb.js":"/js/fb.js","js/gtm.js":"/js/gtm.js","js/retargeting-pixels.js":"/js/retargeting-pixels.js","js/urlRedirect.js":"/js/urlRedirect.js","js/urlScheme.js":"/js/urlScheme.js"}',PRODUCT_NAME:"desktop"}.SPOTIFY_CLIENT_ID}},l=new Request(e,a);((e,t)=>{const n=e.headers.get("content-type");e.headers.set("content-type",((e,t)=>[...e.split(";"),t].join(";"))(n,t))})(l,"charset=utf-8");const c=await fetch(l),u=await c.json()||{},{errors:p}=u,d=Pe()(u,Ne);if(p)throw p;return d},Me=Le("https://spclient.wg.spotify.com/signup/public/v1/account/"),Re=Le("https://spclient.wg.spotify.com/signup/public/v1/account/?validate=true");function xe(){return window.__spotify&&!0===window.__spotify.is_running_on_teamcity}function je(e){const t=[],n=e&&e.app&&e.app.remoteConfigProps||{};return t.reduce(((e,t)=>(e.push([t,"=",String(n[t])].join("")),e)),[]).join("&")}const Be="SIGNUP_RESTRICTIONS_SUCCESS",Ge="SIGNUP_RESTRICTIONS_FAILURE",We="SIGNUP_ATTEMPT",He="SIGNUP_FAILURE",$e="SIGNUP_SUCCESS",Ve="FACEBOOK_SIGNUP_ATTEMPT",ze="FACEBOOK_SIGNUP_SUCCESS",Ke="FACEBOOK_SIGNUP_FAILURE",Ye="VALIDATE_FIELD_ATTEMPT",qe="VALIDATE_FIELD_FAILURE",Xe="VALIDATE_FIELD_SUCCESS",Je="UPDATE_SIGNUP_DATA",Ze="COUNTRY_NOT_LAUNCHED",Qe="CLEAR_ALL_ERRORS";function et(){return async(e,t)=>{const n=t();try{e(tt(xe()?{}:await(async()=>{const e=await fetch("https://spclient.wg.spotify.com/signup/public/v1/account/?validate=1"),t=await e.json()||{};if(t.errors&&t.errors.length>0)throw t.errors;return t})()))}catch(t){e(nt(t)),n.app&&n.app.mode&&"welcome"!==n.app.mode&&(e(N()),e(F(!0)))}}}function tt(e){return{type:Be,restrictions:e}}function nt(e){return{type:Ge,error:e}}function rt(e=null){return async(t,n)=>{t(it());const r=n().signup.formData,o=n().login.utmParameters;try{await Me(r,o),t(st());const{email:n,password:i}=r;t(_e({username:n,password:i,rememberMe:!0},!0,e))}catch(e){const n={};Object.keys(e).forEach((t=>{n["birthdate"===t?"birthDate":t]={message:e[t]}})),t(at(n))}}}function ot(e){return async(t,n)=>{const r=n().signup.formData[e],o=n().login.utmParameters;t(dt(e,r));try{await Re({[e]:r},o,!0)}catch(n){n[e]&&t(gt(e,{message:n[e]}))}}}function it(){return{type:We}}function st(){return{type:$e}}function at(e){return{type:He,errors:e}}function lt(e,t=null){return n=>{const r={name:pe,args:[{method:e,enableSignup:!0}]};n(ct()),(async(e,t,n=null)=>{n&&(t.args=t.args||[],t.args[0]=t.args[0]||{},t.args[0].actionHash=n);try{const n=JSON.parse(await M(t)).redirectTo||"xpui";e(ut()),e(me(null,0,ue,!0,n))}catch(t){let n=t;"string"==typeof t&&(n=JSON.parse(t)),e(pt(n))}})(n,r,t)}}function ct(){return{type:Ve}}function ut(){return{type:ze}}function pt(e){return{type:Ke,errorData:e}}function dt(e,t){return{type:Ye,field:e,value:t}}function gt(e,t){return{type:qe,field:e,error:t}}function ht(e){return{type:Xe,field:e}}function mt(e){return{type:Je,data:e}}function ft(){return{type:Ze}}function bt(){return{type:Qe}}var yt=n(1315);let _t,Et,St;!function(e){e.af="af",e.am="am",e.ar="ar",e.az="az",e.bg="bz",e.bn="bn",e.bho="bho",e.cs="cs",e.da="da",e.de="de",e.el="el",e.en="en",e.es419="es-419",e.es="es",e.et="et",e.fa="fa",e.fi="fi",e.fil="fil",e.frCA="fr-CA",e.fr="fr",e.gu="gu",e.he="he",e.hi="hi",e.hr="hr",e.hu="hu",e.id="id",e.is="is",e.it="it",e.ja="ja",e.kn="kn",e.ko="ko",e.lt="lt",e.lv="lv",e.ml="ml",e.mr="mr",e.ms="ms",e.nb="bn",e.ne="ne",e.nl="nl",e.or="or",e.paIN="pa-IN",e.paPK="pa-PK",e.pl="pl",e.ptBR="pt-BR",e.ptPT="pa-PT",e.ro="ro",e.ru="ru",e.sk="sk",e.sl="sl",e.sr="sr",e.sv="sv",e.sw="sw",e.ta="ta",e.te="te",e.th="th",e.tr="tr",e.uk="uk",e.ur="ur",e.vi="vi",e.zhCN="zh-CN",e.zhTW="zh-TW",e.zu="zu"}(_t||(_t={})),function(e){e.AR="، ",e.FA="، ",e.EN=", "}(Et||(Et={})),function(e){e.ZERO="zero",e.ONE="one",e.TWO="two",e.FEW="few",e.MANY="many",e.OTHER="other"}(St||(St={}));let wt={};function vt(e){return"number"==typeof e?e.toString():e.replace(/\$/,"$$$$")}const kt=e=>{switch(e){case"ar":return"ar-u-nu-latn";default:return e}};class Ot{constructor(){f()(this,"_locale",void 0),f()(this,"_dictionary",void 0),f()(this,"_isPseudoLocalizationOn",void 0),this._dictionary={},this._locale=_t.en,this._isPseudoLocalizationOn=!1}setDictionary(e){this._dictionary=e}setLocale(e){this._locale=e}getLocale(){return this._locale}enablePseudoLocalization(){this._isPseudoLocalizationOn=!0}disablePseudoLocalization(){this._isPseudoLocalizationOn=!1}toLocaleLowerCase(e){return null==e?void 0:e.toLocaleLowerCase(this._locale)}toLocaleUpperCase(e){return null==e?void 0:e.toLocaleUpperCase(this._locale)}get(e,...t){const n=e in this._dictionary?this._dictionary[e]:e;let r="";if("string"!=typeof n){const e=t[0],o=n[((e,t)=>{try{return(wt[e]||(wt[e]=new Intl.PluralRules(e))).select(t)}catch{return St.OTHER}})(this._locale,parseInt(e,10))];void 0!==o?r=o:n.other&&(r=n.other)}else r=n;if(/%\d%/.test(r)){if(!["desktop.login.DefaultErrorMessage","desktop.login.ErrorProxyAuthRequired","desktop.login.MissingUserInfoMessage","desktop.login.RegionMismatchMessage","desktop.login.ClientUpdateFail","desktop.login.FbUserNotFoundSignUp","desktop.login.errorCode","desktop-auth.error"].includes(e))throw new Error("i18n: The placeholder format %0% is legacy and is only allowed for existing strings.")}if((null==t?void 0:t.length)>0)for(let e=0;e<t.length;e++){const n=t[e];if(null!=n)if("string"==typeof n)r=r.replace(`{${e}}`,vt(n)).replace(`%${e}%`,vt(n));else if("number"==typeof n){const t=this.formatNumber(n);r=r.replace(`{${e}}`,t).replace(`%${e}%`,t)}else if("object"==typeof n)for(const e of Object.keys(n)){const t=n[e];r=r.replace(`%${e}%`,vt(t))}}return this._isPseudoLocalizationOn&&(r=yt.ZP.localize(r)),r}getSeparator(){switch(this._locale){case _t.ar:return Et.AR;case _t.fa:return Et.FA;default:return Et.EN}}formatNumber(e,t){return e.toLocaleString(kt(this._locale),t)}formatNumberCompact(e,t){const n={notation:"compact",maximumFractionDigits:1};if(t){const r=new Ot;return r.setLocale(t),r.formatNumber(e,n)}return this.formatNumber(e,n)}formatDate(e,t=null){const n=t||{year:"numeric",month:"long",day:"numeric"};return new Intl.DateTimeFormat(kt(this._locale),n).format(e)}formatRelativeDate(e,t=null){var n;const r=new Date(Date.now()),o=(e=new Date(e)).getTime()-r.getTime();if(Math.abs(o)<2592e6&&null!==(n=Intl)&&void 0!==n&&n.RelativeTimeFormat){const{days:e,hours:t,minutes:n,seconds:r}=(i=o,{seconds:Math.round(i/1e3),minutes:Math.round(i/1e3/60),hours:Math.round(i/1e3/60/60),days:Math.round(i/1e3/60/60/24)}),s=new Intl.RelativeTimeFormat;return e||t||n?e||t?e?s.format(e,"days"):s.format(t,"hours"):s.format(n,"minutes"):s.format(r,"seconds")}var i;return this.formatDate(e,t)}__resetForTests(){this._dictionary={},this._locale=_t.en,wt={}}}const Ct=new Ot,Pt=2,It=3,Tt=4,Nt={"auto-detect":{label:()=>Ct.get("desktop.settings.proxy.autodetect")},"no-proxy":{label:()=>Ct.get("desktop.settings.proxy.noproxy")},http:{label:()=>Ct.get("desktop.settings.proxy.http")},socks4:{label:()=>Ct.get("desktop.settings.proxy.socks4")},socks5:{label:()=>Ct.get("desktop.settings.proxy.socks5")}},At=[{enumKey:"auto-detect",enumValue:0},{enumKey:"no-proxy",enumValue:1},{enumKey:"http",enumValue:2},{enumKey:"socks4",enumValue:3},{enumKey:"socks5",enumValue:4}],Dt="sp://proxy/v1/";const Ut="SETTINGS_FETCH_PROXY_SETTINGS_SUCCESS",Ft="SETTINGS_FETCH_PROXY_SETTINGS_FAILURE",Lt="SETTINGS_UPDATE_PROXY_SETTINGS_SUCCESS",Mt="SETTINGS_UPDATE_PROXY_SETTINGS_FAILURE",Rt="SETTINGS_RESTART_CLIENT_SUCCESS",xt="SETTINGS_RESTART_CLIENT_FAILURE";function jt(){return e=>{(async function(){return new Promise(((e,t)=>{window.sendCosmosRequest({request:JSON.stringify({method:"GET",uri:Dt}),persistent:!1,onSuccess:n=>{const r=JSON.parse(n);200!==r.status&&t(new Error(`Failed to fetch proxy settings (status code: ${r.status})`));const o=JSON.parse(r.body);e({mode:o["network.proxy.mode"],address:o["network.proxy.addr"],username:o["network.proxy.user"],password:o["network.proxy.pass"]})},onFailure:(e,n)=>{t(e)}})}))})().then((t=>{e(function(e){return{type:Ut,data:e}}(t))}),(t=>{e(function(e){return{type:Ft,error:e}}(t))}))}}function Bt(e){return t=>{(async function(e){return new Promise(((t,n)=>{const r={"network.proxy.mode":e.mode};[Pt,It,Tt].includes(e.mode)&&(r["network.proxy.addr"]=e.address,r["network.proxy.user"]=e.username),[Pt,Tt].includes(e.mode)&&(r["network.proxy.pass"]=e.password),window.sendCosmosRequest({request:JSON.stringify({method:"PUT",uri:Dt,body:JSON.stringify(r)}),persistent:!1,onSuccess:()=>{t()},onFailure:(e,t)=>{n(e)}})}))})(e).then((()=>{t({type:Lt}),t(jt())}),(e=>{t(function(e){return{type:Mt,error:e}}(e))}))}}function Gt(){return e=>{(async function(){return new Promise(((e,t)=>{window.sendCosmosRequest({request:JSON.stringify({method:"POST",uri:"sp://desktop/v1/restart"}),persistent:!1,onSuccess:()=>{e()},onFailure:(e,n)=>{t(e)}})}))})().then((()=>{e({type:Rt})}),(t=>{e(function(e){return{type:xt,error:e}}(t))}))}}function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $t=Ht(Ht(Ht(Ht({},r),o),i),s);n(3615);class Vt extends l().Component{constructor(e){super(e),this.state={hidden:this.props.delay>0}}componentDidMount(){!0===this.state.hidden&&(this.throbberTimeout=setTimeout((()=>{this.setState({hidden:!1})}),this.props.delay))}componentWillUnmount(){this.throbberTimeout&&clearTimeout(this.throbberTimeout)}render(){return this.state.hidden?null:l().createElement("div",{className:"GlueThrobber "+(this.props.initial?"throbber-initial":"throbber")},l().createElement("div",null))}}Vt.defaultProps={delay:0,initial:!0};const zt="loginOnlySingleButton",Kt="signupOnlySingleButton",Yt="loginAndSignupSingleButton",qt="none",Xt={desktopWebAuthenticationMode:qt},Jt=(e={})=>{const{desktopWebAuthenticationMode:t=qt}=(null==e?void 0:e.remoteConfigProps)||Xt;return t},Zt=e=>[zt,Yt].includes(Jt(e)),Qt=e=>[Kt,Yt].includes(Jt(e)),en=e=>"none"===Jt(e);function tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const rn={operationUsed:null},on=(e=rn,t)=>t.type===$t.ENTER_LOGIN_MODE?nn(nn({},e),{},{operationUsed:"login"}):t.type===$t.ENTER_SIGNUP_MODE?nn(nn({},e),{},{operationUsed:"signup"}):nn({},e);var sn=n(5170),an=n.n(sn);function ln(){return an().create().toString()}class cn extends l().PureComponent{constructor(e){super(e),this.handleLoginClick=this.handleLoginClick.bind(this),this.handleErrorClick=this.handleErrorClick.bind(this)}handleLoginClick(){const e=this.props.isWebAuthFlowControl?"open-page-login":"login-web",t=ln();this.props.openLoginPage(t),this.props.onInteraction("login/welcome","click",e,null,t)}handleErrorClick(e){if(e.target.getAttribute("data-action")){"showSettings"===e.target.getAttribute("data-action")&&this.props.openSettingsPage()}}render(){const{errorMessage:e}=this.props;return l().createElement("main",{className:"Welcome"},l().createElement("h1",{className:"HeroText __welcome"},Ct.get("desktop-auth.login.millions-of-songs"),l().createElement("br",null),Ct.get("desktop-auth.login.free-on-spotify")),l().createElement("div",{className:"Welcome__signup-or-login"},e&&l().createElement("div",{className:"Welcome__error-message",role:"alert",onClick:this.handleErrorClick,"aria-live":"assertive"},l().createElement("span",{className:"Welcome__error-message__icon spoticon-exclamation-circle-24"}),l().createElement("span",{dangerouslySetInnerHTML:{__html:e}})),l().createElement("button",{type:"button",className:"Welcome__button button button-green button-large",id:"login-button",onClick:this.handleLoginClick,"data-ta-id":"welcome-login-button","data-testid":"login-button"},Ct.get("desktop.login.LoginButton"))))}}var un=(0,d.$j)((e=>({errorMessage:e.app.errorMessage,isWebAuthFlowControl:en(e.app)})),(e=>({openLoginPage:t=>e($t.enterLoginMode(t)),openSettingsPage:()=>e($t.enterSettingsMode()),onInteraction:(t,n,r,o,i)=>e($t.interaction(t,n,r,o,i))})))(cn),pn=n(42),dn=n.n(pn);function gn(e,t,n){if(0===t)return!1;if(!e&&!t)return!1;let r=W;switch(e){case"session":r=H;break;case"desktop_login_accounts":r=$}const o=r[t]||B;if(o.silent)return!1;const i=o.replace||[];let s="";switch(o.id){case"UnknownLoginErrorMessage":s=Ct.get("desktop.login.UnknownLoginErrorMessage");break;case"DefaultErrorMessage":s=Ct.get("desktop.login.DefaultErrorMessage",i[0]);break;case"SessionTerminatedMessage":s=Ct.get("desktop.login.SessionTerminatedMessage");break;case"SessionExpiredMessage":s=Ct.get("desktop.login.SessionExpiredMessage");break;case"BadCredentialsMessage":s=Ct.get("desktop.login.BadCredentialsMessage");break;case"ErrorResolvingDNS":s=Ct.get("desktop.login.ErrorResolvingDNS");break;case"ErrorProxyUnauthorized":s=Ct.get("desktop.login.ErrorProxyUnauthorized");break;case"ErrorProxyForbidden":s=Ct.get("desktop.login.ErrorProxyForbidden");break;case"ErrorProxyAuthRequired":s=Ct.get("desktop.login.ErrorProxyAuthRequired",i[0]);break;case"CriticalUpdate":s=Ct.get("desktop.login.CriticalUpdate");break;case"UserBannedMessage":s=Ct.get("desktop.login.UserBannedMessage");break;case"UserNotAllowedOnPlatformMessage":s=Ct.get("desktop.login.UserNotAllowedOnPlatformMessage");break;case"MissingUserInfoMessage":s=Ct.get("desktop.login.MissingUserInfoMessage",i[0]);break;case"RegionMismatchMessage":s=Ct.get("desktop.login.RegionMismatchMessage",i[0],i[1]);break;case"PremiumUsersOnlyMessage":s=Ct.get("desktop.login.PremiumUsersOnlyMessage");break;case"CreateUserDeniedMessage":s=Ct.get("desktop.login.CreateUserDeniedMessage");break;case"ClientUpdateFail":s=Ct.get("desktop.login.ClientUpdateFail",i[0]);break;case"FbUserNotFoundSignUp":s=Ct.get("desktop.login.FbUserNotFoundSignUp",i[0])}return`${s}<br>${Ct.get("desktop.login.errorCode",n)}`}function hn({validity:e={}}){return e.valid?null:["valueMissing","typeMismatch","tooShort"].find((t=>e[t]))}const mn=()=>l().createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8ZM7.25 3V10H8.75V3H7.25ZM7.25 11.5256V13.0256H8.75V11.5256H7.25Z",fill:"#eb6471"}));class fn extends l().PureComponent{render(){const{errorMessage:e}=this.props;return l().createElement("div",{"aria-live":"polite",className:dn()("FieldError",{"FieldError--hidden":!e})},l().createElement(mn,null),l().createElement("span",null,e||""))}}let bn=0;class yn extends l().PureComponent{constructor(...e){super(...e),this.idNumber=++bn,this.handleChange=this.handleChange.bind(this)}handleChange(e){this.props.onChange(e)}render(){const{label:e,placeholderLabel:t,name:n,type:r,isRequired:o,taId:i,id:s,defaultValue:a,value:c,minLength:u,autoFocus:p,hasError:d,isDisabled:g,isHiddenForScreenReaders:h,useCustomStyle:m,className:f,inputClassName:b,inputRef:y,onBlur:_,onFocus:E,onInput:S,onKeyDown:w,onKeyUp:v}=this.props,k=s||`GlueTextInput-${this.idNumber}`;return l().createElement("label",{className:m?f:"GlueTextInput",htmlFor:k,"aria-label":e,"aria-hidden":!!h||void 0},l().createElement("input",{className:m?b:dn()("GlueTextInput__input",{"GlueTextInput__input--has-error":d}),tabIndex:h?"-1":void 0,type:r,id:k,name:n,"data-ta-id":i,"aria-invalid":d,disabled:g,minLength:u,autoFocus:p,placeholder:t||e,value:a?void 0:c,defaultValue:a,onBlur:_,onFocus:E,onChange:this.handleChange,onInput:a?void 0:S,onKeyDown:w,onKeyUp:v,ref:y,required:o}))}}yn.defaultProps={name:"",type:"text",isRequired:!1,taId:"",defaultValue:void 0,value:"",minLength:0,autoFocus:!1,hasError:!1,isDisabled:!1,isHiddenForScreenReaders:!1,useCustomStyle:!1,onBlur(){},onFocus(){},onChange(){},onInput(){},onKeyDown(){}};class _n extends l().PureComponent{constructor(e){super(e),f()(this,"handleTogglePasswordVisible",(()=>{const e=!this.state.passwordVisible;this.setState({passwordVisible:e}),this.props.onTogglePasswordVisibility&&this.props.onTogglePasswordVisibility(e)})),this.state={isEditing:!1,passwordVisible:!1},this.handleBlur=this.handleBlur.bind(this),this.handleInput=this.handleInput.bind(this)}handleBlur({target:e,relatedTarget:t}){this.setState({isEditing:!1}),t&&(t.name||"submit"===t.type)&&this.validate(e)}handleInput(){this.setState({isEditing:!0})}validate(e){const{name:t,onValidate:n,noValidate:r}=this.props;!r&&n&&n(t,hn(e))}renderPasswordEyeToggler(){const{type:e}=this.props,{passwordVisible:t}=this.state;return"password"!==e?null:l().createElement(l().Fragment,null,l().createElement("button",{type:"button",onClick:this.handleTogglePasswordVisible,tabIndex:"-1",className:"FormField--passwordEyeIcon "+(t?"passwordVisible":"")}),l().createElement("span",{tabIndex:"-1",className:"FormField--passwordEyeIcon--cross "+(t?"passwordVisible":"")}))}render(){const{error:e={},noValidate:t,label:n,name:r,type:o,value:i,isRequired:s,minLength:a,autoFocus:c,isDisabled:u,onChange:p,onKeyUp:d,onFocus:g,rightIcon:h=null}=this.props,{isEditing:m,passwordVisible:f}=this.state;let b=o;return"password"===o&&f&&(b="text"),l().createElement("div",{className:dn()("FormField",{"FormField--no-validate":t})},l().createElement(yn,{label:n,name:r,type:b,taId:`${r}-field`,value:i,isRequired:s,minLength:a,autoFocus:c,hasError:!!e.message&&!m,isDisabled:u,onChange:p,onFocus:g,onKeyUp:d,onBlur:this.handleBlur,onInput:this.handleInput}),h&&l().createElement("span",{className:`FormField--rightIcon spoticon-${h}-24`}),this.renderPasswordEyeToggler(),!t&&!m&&e.message&&l().createElement(l().Fragment,null,l().createElement(fn,{errorMessage:e.message})))}}var En=(0,d.$j)((()=>({})),(()=>({})))(_n),Sn=n(2398),wn=n.n(Sn);const vn=["type","name","label","classes","hasError"];class kn extends l().PureComponent{constructor(...e){super(...e),this.handleBlur=this.handleBlur.bind(this)}handleBlur(e={}){this.props.onBlur&&this.props.onBlur(e)}render(){const e=this.props,{type:t="text",name:n,label:r,classes:o,hasError:i}=e,s=Pe()(e,vn),a=`${n}-field`;return l().createElement("span",{className:o},l().createElement("label",{className:"glue-hidden-visually",htmlFor:a},r),l().createElement("input",wn()({},s,{onBlur:this.handleBlur,type:t,name:n,id:a,"data-ta-id":a,className:dn()("form-control Input",{"Input--has-error":i}),"aria-invalid":!!i,placeholder:r,required:!0})))}}const On=(e,t,n)=>{let r=null;return((e,t,n)=>[e,t,n].reduce(((e,t)=>e&&!!t),!0))(e,t,n)?((e,t,n)=>{const r=new Date(n,t-1,e);return r.getDate()===e&&r.getMonth()===t-1&&r.getFullYear()===n})(e,t,n)||(r="invalid"):r="incomplete",r};function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const In={BIG_ENDIAN:"big",LITTLE_ENDIAN:"little",MIDDLE_ENDIAN:"middle"};class Tn extends l().PureComponent{constructor(e){super(e),this.state={isEditing:!1},this.monthStrings=[Ct.get("desktop.login.January"),Ct.get("desktop.login.February"),Ct.get("desktop.login.March"),Ct.get("desktop.login.April"),Ct.get("desktop.login.May"),Ct.get("desktop.login.June"),Ct.get("desktop.login.July"),Ct.get("desktop.login.August"),Ct.get("desktop.login.September"),Ct.get("desktop.login.October"),Ct.get("desktop.login.November"),Ct.get("desktop.login.December")],this.handleInput=this.handleInput.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleFocus=this.handleFocus.bind(this)}handleInput({target:{name:e,value:t,validity:n={}}}){this.setState({isEditing:!0}),n.valueMissing?this.props.onChange(Pn(Pn({},this.props.value),{},{[e]:void 0})):(n.valid||n.rangeUnderflow)&&this.props.onChange(Pn(Pn({},this.props.value),{},{[e]:parseInt(t,10)}))}handleBlur(e){const t=e.relatedTarget?e.relatedTarget.name:null,n=["day","month","year"].includes(t);this.setState({isEditing:n}),n||this.validate()}handleFocus(e){this.setState({isEditing:!0});const t=e.relatedTarget?e.relatedTarget.name:null;!["day","month","year"].includes(t)&&this.props.onFocus&&this.props.onFocus()}validate(){const{day:e,month:t,year:n}=this.props.value,r=On(e,t,n,this.props.minAge);this.props.onValidate("birthDate",r)}renderYear(e,t,n){return l().createElement(kn,{type:"number",name:"year",classes:"FormDate__input FormDate__year",label:Ct.get("desktop.login.Year"),autoFocus:n,defaultValue:e||"",onInput:this.handleInput,onBlur:this.handleBlur,disabled:this.props.disabled,min:1900,hasError:t.includes("year"),onFocus:this.handleFocus})}renderMonth(e,t,n){return l().createElement("select",{name:"month",id:"month-field",className:dn()("form-control Input FormDate__input FormDate__month",{"Input--has-error":t.includes("month")}),autoFocus:n,defaultValue:e||"",required:!0,onChange:this.handleInput,onBlur:this.handleBlur,disabled:this.props.disabled,onFocus:this.handleFocus},l().createElement("option",{value:"",disabled:!0,hidden:!0},Ct.get("desktop.login.Month")),this.monthStrings.map(((e,t)=>l().createElement("option",{value:t+1,key:t},e))))}renderDay(e,t,n){return l().createElement(kn,{type:"number",name:"day",classes:"FormDate__input FormDate__day",label:Ct.get("desktop.login.Day"),autoFocus:n,defaultValue:e||"",onInput:this.handleInput,onBlur:this.handleBlur,disabled:this.props.disabled,min:1,max:31,hasError:t.includes("day"),onFocus:this.handleFocus})}render(){const{name:e,label:t,dateEndianness:n,error:r={},autoFocus:o}=this.props,{day:i,month:s,year:a}=this.props.value,{isEditing:c}=this.state,u=["day","month","year"].filter((e=>!(c||!r.message)&&("incomplete"===r.code?!this.props.value[e]:"tooOld"!==r.code||"year"===e)));let p="";return p="big"===In[n]?l().createElement("div",{className:"FormDate__inputs"},this.renderYear(a,u,o),this.renderMonth(s,u),this.renderDay(i,u)):"little"===In[n]?l().createElement("div",{className:"FormDate__inputs"},this.renderDay(i,u,o),this.renderMonth(s,u),this.renderYear(a,u)):l().createElement("div",{className:"FormDate__inputs"},this.renderMonth(s,u,o),this.renderDay(i,u),this.renderYear(a,u)),l().createElement("div",{className:"FormDate"},l().createElement("label",{className:`FormDate__label ${e}-label`,htmlFor:"month-field"},t),p,!c&&r.message&&l().createElement(l().Fragment,null,l().createElement(fn,{errorMessage:r.message})))}}Tn.defaultProps={value:{},dateEndianness:"MIDDLE_ENDIAN",minAge:13};var Nn=(0,d.$j)((()=>({})),(()=>({})))(Tn);const An=["name","label","options","value","showTitle","error","onValidate","onOptionFocus"];class Dn extends l().PureComponent{constructor(e){super(e),this.state={isEditing:!1},this.handleBlur=this.handleBlur.bind(this),this.handleFocus=this.handleFocus.bind(this)}handleBlur(e){this.state={isEditing:!1};(e.relatedTarget?e.relatedTarget.name:null)!==this.props.name&&this.validate(e.target)}handleFocus(e){this.state={isEditing:!0},this.props.onOptionFocus&&e&&e.target&&this.props.onOptionFocus(e.target.value)}validate(e){const{name:t,onValidate:n}=this.props;n&&n(t,hn(e))}render(){const e=this.props,{name:t,label:n,options:r,value:o,showTitle:i,error:s={},onValidate:a,onOptionFocus:c}=e,u=Pe()(e,An),{isEditing:p}=this.state,d=`${t}-field`,g=dn()("FormRadioSelect",{"FormRadioSelect--is-disabled":this.props.disabled});return l().createElement("div",{className:g},l().createElement("label",{className:i?"":"glue-hidden-visually",htmlFor:d},n),r.map((e=>{const n=`${e.value}-radio`;return l().createElement("span",{className:o===e.value?"checked":"",key:e.value},l().createElement("input",wn()({},u,{name:t,type:"radio",id:n,className:"glue-hidden-visually",value:e.value,checked:o===e.value,onBlur:this.handleBlur,onFocus:this.handleFocus,required:!0,disabled:this.props.disabled})),l().createElement("label",{className:dn()("FormRadioSelect__label",{"FormRadioSelect__label--has-error":!!s.message}),htmlFor:n},e.label))})),!p&&s.message&&l().createElement(l().Fragment,null,l().createElement(fn,{errorMessage:s.message})))}}var Un=(0,d.$j)((()=>({})),(()=>({})))(Dn);class Fn extends l().PureComponent{constructor(...e){super(...e),this.handleChange=this.handleChange.bind(this)}handleChange(e){this.props.isDisabled||this.props.onChange(e.target.checked)}render(){const e=`${this.props.name}-field`,t=dn()("GlueCheckbox",{"GlueCheckbox--is-disabled":this.props.isDisabled});return l().createElement("div",{className:t},l().createElement("input",{className:"GlueCheckbox__input",id:e,name:this.props.name,checked:this.props.isChecked,type:"checkbox",onChange:this.handleChange,disabled:this.props.isDisabled}),l().createElement("label",{className:"GlueCheckbox__label",htmlFor:e,dangerouslySetInnerHTML:{__html:this.props.label}}))}}Fn.defaultProps={label:"",name:"",isChecked:!1,isDisabled:!1,onChange(){}};var Ln=n(4446);class Mn extends l().Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){if(e.target.getAttribute("data-action")){const t=e.target.getAttribute("data-action");"showSettings"===t?this.props.openSettingsPage():"showSignup"===t&&this.props.openSignupPage()}}render(){const e=this.props.errorData,t=e?gn(e.errorCategory,e.errorCode,e.errorReference):null;return t?l().createElement("div",{className:"alert alert-danger ErrorMessage alert-icon",id:"login-message","data-ta-id":"login-message",role:"alert","aria-live":"assertive",onClick:this.handleClick},l().createElement(Ln.w,{iconSize:24}),l().createElement("span",{dangerouslySetInnerHTML:{__html:t}})):null}}var Rn=(0,d.$j)((e=>{let{mode:t}=e.app;return"welcome"===t&&(t="signup"),{errorData:e[t]&&e[t].errorData?e[t].errorData:null}}),(e=>({openSettingsPage:()=>e($t.enterSettingsMode()),openSignupPage:()=>e($t.openSignupPage())})))(Mn);class xn extends l().PureComponent{static getNextId(){const e=(xn.instanceCount||0)+1;return xn.instanceCount=e,e}constructor(e){super(e),this.state={tosAgreed:!1,privacyAgreed:!1},this.handleTosChange=this.handleTosChange.bind(this),this.handlePrivacyChange=this.handlePrivacyChange.bind(this),this.handleTosAndPrivacyChange=this.handleTosAndPrivacyChange.bind(this),this.handleEulaChange=this.handleEulaChange.bind(this),this.eulaId=xn.getNextId()}handleTosChange(e){this.setState({tosAgreed:e},(()=>{this.handleEulaChange()}))}handlePrivacyChange(e){this.setState({privacyAgreed:e},(()=>{this.handleEulaChange()}))}handleTosAndPrivacyChange(e){this.setState({tosAgreed:e,privacyAgreed:e},(()=>{this.handleEulaChange()}))}handleEulaChange(){this.props.onChange(this.state.tosAgreed&&this.state.privacyAgreed)}render(){let e=null;const t=`<a href="https://www.spotify.com/int/legal/end-user-agreement/" target="_new">${Ct.get("desktop.login.TermsAndConditions")}</a>`,n=`<a href="https://www.spotify.com/int/legal/privacy-policy/" target="_new">${Ct.get("desktop.login.PrivacyPolicy")}</a>`,r=Ct.get("desktop.login.SignupButton");return e=this.props.restrictions.pretick_eula?l().createElement("div",null,!this.props.hideTermsAndConditions&&l().createElement("p",{className:"SignupForm__terms-and-conditions",dangerouslySetInnerHTML:{__html:Ct.get("desktop.login.SignupAgree",r,t)}}),!this.props.hidePrivacyPolicy&&l().createElement("p",{className:"SignupForm__privacy-policy",dangerouslySetInnerHTML:{__html:Ct.get("desktop.login.PrivacyPolicyAgree",n)}})):this.props.restrictions.can_accept_licenses_in_one_step?l().createElement("div",{className:"SignupForm__checkbox-container"},l().createElement(Fn,{"data-ta-id":"agree-eula",name:`agree-eula-${this.eulaId}`,label:this.props.restrictions.specific_licenses?Ct.get("desktop.login.SignupAgreeCheckboxSpecificLicenses",t,n):Ct.get("desktop.login.SignupAgreeCheckbox",t,n),onChange:this.handleTosAndPrivacyChange,isChecked:this.state.tosAgreed&&this.state.privacyAgreed,isDisabled:this.props.disabled}),this.props.restrictions.specific_licenses&&l().createElement("p",{className:"SignupForm__privacy-policy",dangerouslySetInnerHTML:{__html:Ct.get("desktop.login.PrivacyPolicyAgree",n)}})):l().createElement("div",null,l().createElement("div",{className:"SignupForm__checkbox-container"},l().createElement(Fn,{"data-ta-id":"agree-tos",name:`agree-tos-${this.eulaId}`,label:Ct.get("desktop.login.TermsOfServiceAgreeCheckbox",t),onChange:this.handleTosChange,isChecked:this.state.tosAgreed,isDisabled:this.props.disabled})),l().createElement("div",{className:"SignupForm__checkbox-container"},l().createElement(Fn,{"data-ta-id":"agree-privacy",name:`agree-privacy-${this.eulaId}`,label:Ct.get("desktop.login.PrivacyPolicyAgreeCheckbox",n),onChange:this.handlePrivacyChange,isChecked:this.state.privacyAgreed,isDisabled:this.props.disabled}))),l().createElement("div",{className:"EulaAgreement"},e,this.props.error&&l().createElement(l().Fragment,null,l().createElement(fn,{errorMessage:this.props.error.message})))}}var jn=(0,d.$j)((()=>({})),(()=>({})))(xn);class Bn extends l().PureComponent{constructor(...e){super(...e),f()(this,"handleClick",(e=>{const{method:t}=this.props;e&&(e.preventDefault(),e.stopPropagation()),this.props.onClick(t)}))}render(){const{type:e,label:t,isDisabled:n,method:r}=this.props,o=r.substr(0,1).toUpperCase()+r.substr(1),i=dn()("button","SocialButton",`${o}Button`,{[`${o}Button--login`]:"login"===e,[`${o}Button--signup`]:"signup"===e});return l().createElement("button",{type:"button",className:i,onClick:this.handleClick,"data-ta-id":`${r}-${e}-button`,disabled:n},t)}}function Gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gn(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class Hn extends l().PureComponent{constructor(e){super(e),f()(this,"handleAgreeEulaChange",(e=>{const t=e?"checked":"unchecked";this.props.onInteraction("signup","click",`eula-change-${t}`),this.setState({eulaAgreed:e,error:e?{}:this.state.error})})),f()(this,"handleOnClick",((...e)=>{(()=>this.state.eulaAgreed||this.props.restrictions.pretick_eula||this.props.hideEula)()?this.props.onClick(...e):this.setState({error:{message:Ct.get("desktop.login.agreeEula.notAccepted")}})})),this.state={eulaAgreed:this.props.restrictions.pretick_eula,error:{}}}render(){return l().createElement("div",{className:"SignupFacebook"},l().createElement(Bn,{method:"facebook",isDisabled:this.props.isDisabled,onClick:this.handleOnClick,type:"signup",label:Ct.get("desktop.login.SignupButtonFacebookNirvana")}),this.props.restrictions.pretick_eula||this.props.hideEula?null:l().createElement(jn,{restrictions:this.props.restrictions,error:this.state.error,disabled:this.props.isDisabled,onChange:this.handleAgreeEulaChange}))}}f()(Hn,"defaultProps",{isDisabled:!1,hideEula:!1});var $n=(0,d.$j)((e=>({isDisabled:!!e.signup.isAttempting,restrictions:e.signup.restrictions})),(e=>({onInteraction:(t,n,r,o,i)=>e($t.interaction(t,n,r,o,i)),onClick:t=>{const n=ln();e($t.signupWithAccounts(t,n)),e($t.interaction("signup","click",`create-account-${t}`,null,n))}})),((e,t)=>Wn(Wn(Wn({},e),t),{},{onClick:e=>{t.onClick(e)}})))(Hn);const Vn=({title:e})=>l().createElement("p",{className:"FormTitleSeparator","aria-hidden":"true"},e);Vn.defaultProps={title:""};var zn=Vn;class Kn extends l().PureComponent{constructor(e){super(e),f()(this,"handleEmailValidate",((e,t)=>{this.props.onValidate(e,t),t||this.props.validateEmail()})),f()(this,"handleEmailFocus",(()=>{this.props.onInteraction("signup","click","input-email")})),f()(this,"handlePasswordValidate",((e,t)=>{this.props.onValidate(e,t),t||this.props.validatePassword()})),f()(this,"handlePasswordFocus",(()=>{this.props.onInteraction("signup","click","input-password")})),f()(this,"handleNameFocus",(()=>{this.props.onInteraction("signup","click","input-name")})),f()(this,"handleGenderOptionFocus",(e=>{this.props.onInteraction("signup","click",`input-gender-${e}`)})),f()(this,"handleInputChange",(({target:{name:e,value:t}})=>{this.props.updateData({[e]:t}),this.setState({isEditing:!0})})),f()(this,"handleBirthDateChange",(e=>{this.props.updateData({birthDate:e})})),f()(this,"handleSendEmailChange",(e=>{this.props.updateData({sendEmail:e})})),f()(this,"handleShareDataChange",(e=>{this.props.updateData({shareData:e})})),f()(this,"handleAgreeEulaChange",(e=>{this.props.updateData({agreeEula:e})})),f()(this,"handleSubmit",(e=>{e&&e.preventDefault();const{step:t}=this.props,n=ln();this.props.onInteraction("signup","click",0===t?"continue":"create-account",null,n),this.setState({isEditing:!1});let r=!0;const o={0:["email","password","name"],1:["birthDate","gender","agreeEula"]};!!this.props.errors&&Object.keys(this.props.errors).filter((e=>-1!==o[t].indexOf(e))).some((e=>this.props.errors[e]&&this.props.errors[e].message))&&(r=!1);const i=e=>t=>{this.props.data[t]||(this.props.onValidate(t,{code:e}),r=!1)};switch(t){case 0:["email","password","name"].forEach(i("valueMissing"));break;case 1:{const{day:e,month:t,year:o}=this.props.data.birthDate;o||this.props.onInteraction("signup","view","show-error-empty-year",null,n),t||this.props.onInteraction("signup","view","show-error-empty-month",null,n),e||this.props.onInteraction("signup","view","show-error-empty-date",null,n);const s=On(e,t,o,this.props.restrictions.minimum_age);s&&(this.props.onValidate("birthDate",{code:s}),r=!1),i("valueMissing")("gender"),i("notAccepted")("agreeEula")}}if(r)switch(t){case 0:this.setStep(t+1);break;case 1:this.props.signup(n)}})),f()(this,"handleBack",(()=>{const{step:e}=this.props;this.props.onInteraction("signup","click",`back-step-${e+1}`),this.props.clearAllErrors(),e<=0?this.props.enterWelcomeMode():this.setStep(e-1)})),f()(this,"handleLogin",(()=>{const e=this.props.isWebAuthFlowControl?"open-page-login":"login-web",t=ln();this.props.onInteraction("signup","click",e,null,t),this.props.enterLoginMode(t)})),f()(this,"setStep",(e=>{switch(e){case 0:this.props.enterSignupModeStep0();break;case 1:this.props.enterSignupModeStep1()}})),this.state={isEditing:!0}}renderErrorMsg(){const e=Object.keys(this.props.errors).filter((e=>this.props.errors[e]&&this.props.errors[e].message));return l().createElement("div",{className:"glue-hidden-visually",role:"alert","aria-live":this.state.isEditing?"off":"assertive"},e.length>0?l().createElement("div",null,l().createElement("p",null,Ct.get("desktop.login.email.errorMessageA11y",e.length)),l().createElement("ul",null,e.map((e=>l().createElement("li",{key:e},this.props.errors[e].message))))):null)}renderStep0(){const{data:e,errors:t,isDisabled:n,onValidate:r}=this.props;return l().createElement("div",null,l().createElement(En,{name:"email",type:"email",label:Ct.get("desktop.login.SignupEmail"),value:e.email,onChange:this.handleInputChange,isDisabled:n,error:t.email,onValidate:this.handleEmailValidate,onFocus:this.handleEmailFocus,isRequired:!0,autoFocus:!0,rightIcon:"email"}),l().createElement(En,{name:"password",type:"password",label:Ct.get("desktop.login.CreateAPassword"),value:e.password,onChange:this.handleInputChange,minLength:8,isRequired:!0,isDisabled:n,error:t.password,onValidate:this.handlePasswordValidate,onFocus:this.handlePasswordFocus,onTogglePasswordVisibility:e=>{this.props.onInteraction("signup","click",e?"toggle-password-visibility-show":"toggle-password-visibility-hide")}}),l().createElement(En,{name:"name",label:Ct.get("desktop.login.SignupName"),value:e.name,onChange:this.handleInputChange,isRequired:!0,isDisabled:n,error:t.name,onValidate:r,rightIcon:"user-circle",onFocus:this.handleNameFocus}))}renderStep1(){const{data:e,errors:t,restrictions:n,isDisabled:r,onValidate:o}=this.props;let i=null;n.requires_marketing_opt_in_text?i=l().createElement("div",{className:"SignupForm__send-email-implicit"},Ct.get("desktop.login.SendEmailImplicitLabel")):n.requires_marketing_opt_in&&(i=l().createElement("div",{className:"SignupForm__checkbox-container"},l().createElement(Fn,{name:"send-email",label:Ct.get("desktop.login.SendEmailLabel"),onChange:this.handleSendEmailChange,isChecked:e.sendEmail,isDisabled:r})));const s=[{label:Ct.get("desktop.login.Female"),value:"female"},{label:Ct.get("desktop.login.Male"),value:"male"}];return n.use_all_genders&&s.push({label:Ct.get("desktop.login.NonBinary"),value:"neutral"}),l().createElement("div",null,l().createElement(Nn,{name:"birth-date",label:Ct.get("desktop.login.WhatsYourSignupBirthDate"),value:e.birthDate,onChange:this.handleBirthDateChange,disabled:r,error:t.birthDate,onValidate:o,dateEndianness:n.date_endianness,minAge:n.minimum_age,autoFocus:!0,onFocus:()=>{this.props.onInteraction("signup","click","input-birth-date")}}),l().createElement(Un,{showTitle:!0,name:"gender",label:Ct.get("desktop.login.WhatsYourSignupGender"),options:s,value:e.gender,onChange:this.handleInputChange,disabled:r,error:t.gender,onValidate:o,onOptionFocus:this.handleGenderOptionFocus}),i,l().createElement(jn,{restrictions:n,error:t.agreeEula,disabled:r,onChange:this.handleAgreeEulaChange}))}render(){const{isDisabled:e,step:t}=this.props;return l().createElement("form",{onSubmit:this.handleSubmit,className:"SignupForm"},this.renderErrorMsg(),l().createElement(Rn,null),0===t?this.renderStep0():"",1===t?this.renderStep1():"",l().createElement("button",{type:"submit",className:"button button-green button-large SignupForm__signup-button",disabled:e,id:"signup-button",onClick:this.handleSubmit,"data-ta-id":"signup-submit"},0===t?Ct.get("desktop.login.Continue"):Ct.get("desktop.login.SignupButton")),0===t&&l().createElement(l().Fragment,null,l().createElement(zn,{title:Ct.get("desktop.login.SignupOr")}),l().createElement($n,null)),l().createElement("a",{href:"#",className:"SignupForm__back-button",onClick:this.handleBack},Ct.get("desktop.login.Back")),0===t&&l().createElement("h3",{className:"FooterFormText"},l().createElement("a",{className:"FooterFormText__NoUnderline",href:"#",id:"login-link",onClick:this.handleLogin,dangerouslySetInnerHTML:{__html:Ct.get("desktop.login.AlreadyOnSpotifyLogin")}})))}}f()(Kn,"defaultProps",{errors:{},data:{},step:0});var Yn=(0,d.$j)((e=>({isDisabled:!!e.signup.isAttempting,restrictions:e.signup.restrictions,email:e.signup.email,errors:e.signup.errors,data:e.signup.formData,isWebAuthFlowControl:en(e.app)})),(e=>({signup:t=>e($t.signup(t)),enterLoginMode:()=>e($t.enterLoginMode()),enterSignupModeStep0:()=>e($t.enterSignupModeStep0()),enterSignupModeStep1:()=>e($t.enterSignupModeStep1()),updateData:t=>e($t.updateSignupData(t)),validateEmail:()=>e($t.validateField("email")),validatePassword:()=>e($t.validateField("password")),enterWelcomeMode:()=>e($t.enterWelcomeMode()),clearAllErrors:()=>e($t.clearAllErrors()),onValidate:(t,n)=>{if(n){const r=n.code||n,o={birthDate:{incomplete:Ct.get("desktop.login.birthDate.incomplete"),invalid:Ct.get("desktop.login.birthDate.invalid")},password:{valueMissing:Ct.get("desktop.login.password.valueMissing"),tooShort:Ct.get("desktop.login.password.tooShort")},email:{valueMissing:Ct.get("desktop.login.email.valueMissing"),typeMismatch:Ct.get("desktop.login.email.typeMismatch")},name:{valueMissing:Ct.get("desktop.login.name.valueMissing")},gender:{valueMissing:Ct.get("desktop.login.gender.valueMissing")},agreeEula:{notAccepted:Ct.get("desktop.login.agreeEula.notAccepted")}};e($t.validateFieldFailure(t,{code:r,message:o[t]&&o[t][r]||""}))}else e($t.validateFieldSuccess(t))},onInteraction:(t,n,r,o,i)=>e($t.interaction(t,n,r,o,i))})))(Kn);class qn extends l().PureComponent{render(){const{step:e,restrictions:t}=this.props;if(!t)return l().createElement(Vt,{delay:2e3});const n=0===e?Ct.get("desktop.login.SignupHeroText"):Ct.get("desktop.login.SignupAlmostDone");return l().createElement("main",{className:"Signup","aria-labelledby":"signup-form-title",id:"signup","data-ta-id":"signup-form"},l().createElement("h1",{className:"HeroText",id:"signup-form-title"},n),l().createElement(Yn,{step:e}))}}var Xn=(0,d.$j)((e=>({isDisabled:!!e.signup.isAttempting,restrictions:e.signup.restrictions})))(qn);class Jn extends l().PureComponent{constructor(...e){super(...e),this.handleChange=this.handleChange.bind(this)}handleChange(){this.props.isDisabled||this.props.onChange(!this.props.isActive)}render(){const{isActive:e,isDisabled:t,labelId:n,taId:r}=this.props;return l().createElement("div",{className:dn()("GlueToggle",{"GlueToggle--is-active":e,"GlueToggle--is-disabled":t})},l().createElement("input",{type:"checkbox",name:n,id:n,className:"glue-hidden-visually",onChange:this.handleChange,checked:e,disabled:t,"data-ta-id":r}),l().createElement("div",{className:"GlueToggle__toggle",onClick:this.handleChange,"aria-hidden":"true"},l().createElement("div",{className:"GlueToggle__toggle-inner"})))}}Jn.defaultProps={isActive:!1,isDisabled:!1,onChange:()=>{}};class Zn extends l().PureComponent{render(){const{name:e,label:t,checked:n,disabled:r,onChange:o}=this.props,i=`${e}-field`;return l().createElement("div",{className:"FormToggle"},l().createElement("label",{htmlFor:i,"data-ta-id":"remember-me-label"},t),l().createElement(Jn,{labelId:i,isActive:n,onChange:o,taId:"remember-me-slider",isDisabled:r}))}}class Qn extends l().PureComponent{constructor(e){super(e),f()(this,"handleForgotPasswordLinkClick",(()=>{this.props.onInteraction("login","click","reset-password")})),this.state={username:this.props.username,password:"",rememberMe:!0},["handleSubmit","handleUsernameChange","handleUsernameFocus","handlePasswordChange","handlePasswordFocus","handleRememberMeChange"].forEach((e=>{this[e]=this[e].bind(this)}))}handleUsernameChange({target:e}){this.setState({username:e.value})}handleUsernameFocus(){this.props.onInteraction("login","click","input-email")}handlePasswordChange({target:e}){this.setState({password:e.value})}handlePasswordFocus(){this.props.onInteraction("login","click","input-password")}handleRememberMeChange(){this.setState({rememberMe:!this.state.rememberMe})}handleSubmit(e){e&&e.preventDefault();const t=this.state.username.trim(),{password:n,rememberMe:r}=this.state,o=ln();this.props.onInteraction("login","click","login-email",null,o),t&&n?this.props.login({username:t,password:n,rememberMe:r},!1,o):t?n||this.props.onInteraction("login","view","show-error-empty-password",null,o):this.props.onInteraction("login","view","show-error-empty-email",null,o)}render(){const{isDisabled:e}=this.props;return l().createElement("form",{onSubmit:this.handleSubmit},l().createElement("h3",{className:"glue-hidden-visually"},Ct.get("desktop.login.LoginWithEmailTitle")),l().createElement(Rn,null),l().createElement(En,{name:"username",label:Ct.get("desktop.login.LoginUsernameOrEmail"),value:this.state.username||"",onChange:this.handleUsernameChange,onFocus:this.handleUsernameFocus,isDisabled:e,autoFocus:!0,noValidate:!0,rightIcon:"email"}),l().createElement(En,{name:"password",type:"password",label:Ct.get("desktop.login.LoginPassword"),value:this.state.password,onChange:this.handlePasswordChange,onFocus:this.handlePasswordFocus,isDisabled:e,noValidate:!0,rightIcon:"eye"}),l().createElement("a",{className:"LoginForm__reset-password",href:"https://www.spotify.com/redirect/password-reset",target:"_new",onClick:this.handleForgotPasswordLinkClick},Ct.get("desktop.login.forgotPassLink")),l().createElement(Zn,{name:"remember-me",label:Ct.get("desktop.login.RememberMeLabel"),checked:this.state.rememberMe,onChange:this.handleRememberMeChange,disabled:e}),l().createElement("button",{type:"submit",className:"button button-white LoginForm__login-button",disabled:e,id:"login-button","data-ta-id":"login-button"},Ct.get("desktop.login.LoginButton")))}}var er=(0,d.$j)((e=>({isDisabled:!!e.login.loginInProgress,username:e.login.username})),(e=>({login:(t,n,r)=>e($t.login(t,n,r)),onInteraction:(t,n,r,o,i)=>e($t.interaction(t,n,r,o,i))})))(Qn);function tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class rr extends l().PureComponent{componentWillUnmount(){this.props.clearErrors()}handleSignup(){const e=this.props.isWebAuthFlowControl?"open-page-signup":"create-account-web",t=ln();this.props.enterSignupMode(t),this.props.onInteraction("login","click",e,null,t)}getSignupLink(){return this.props.isWebAuthFlowControl?l().createElement("a",{className:"FooterFormText__NoUnderline",href:"#",id:"signup-link",onClick:()=>this.handleSignup(),"data-ta-id":"signup-link",dangerouslySetInnerHTML:{__html:Ct.get("desktop.login.DontHaveAnAccountSignup")}}):l().createElement("a",{className:"FooterFormText__NoUnderline",href:"#",id:"signup-link",onClick:()=>this.handleSignup(),"data-ta-id":"signup-link"},Ct.get("desktop-auth.login.new-to-spotify")," ",l().createElement("u",null,Ct.get("desktop-auth.login.sign-up")))}render(){const{isDisabled:e}=this.props;return l().createElement("main",{className:"Login","aria-labelledby":"login-form-title",id:"login","data-ta-id":"login-form"},l().createElement("h1",{className:"HeroText",id:"login-form-title"},Ct.get("desktop.login.LoginHeroText")),l().createElement(er,null),l().createElement(zn,{title:Ct.get("desktop.login.SignupOr")}),l().createElement(Bn,{method:"facebook",isDisabled:e,onClick:this.props.onSocialButtonClick,type:"login",label:Ct.get("desktop.login.ContinueWithFacebook")}),l().createElement(Bn,{method:"google",isDisabled:e,onClick:this.props.onSocialButtonClick,type:"login",label:Ct.get("desktop.login.ContinueWithGoogle")}),l().createElement(Bn,{method:"apple",isDisabled:e,onClick:this.props.onSocialButtonClick,type:"login",label:Ct.get("desktop.login.ContinueWithApple")}),l().createElement("h3",{className:"FooterFormText"},this.getSignupLink()))}}var or=(0,d.$j)((e=>({isDisabled:!!e.login.loginInProgress,isWebAuthFlowControl:en(e.app)})),(e=>({enterSignupMode:t=>e($t.enterSignupMode(t)),onInteraction:(t,n,r,o,i)=>e($t.interaction(t,n,r,o,i)),onSocialButtonClick:t=>{const n=ln();e($t.loginWithAccounts(t,n)),e($t.interaction("login","click",`login-${t}`,null,n))},clearErrors:()=>e($t.loginClearErrors())})),((e,t)=>nr(nr(nr({},e),t),{},{onSocialButtonClick:e=>{t.onSocialButtonClick(e)}})))(rr);class ir extends l().PureComponent{render(){const{operationUsed:e}=this.props,t="signup"===e?Ct.get("desktop-auth.login.redirecting-to-browser-signup"):Ct.get("desktop-auth.login.redirecting-to-browser-login");return l().createElement("main",null,l().createElement("h1",{className:"HeroText __redirect"},t))}}var sr=(0,d.$j)((e=>({operationUsed:e.experimentWebAuthReducer.operationUsed})))(ir),ar=n(4108),lr={button:"PzcmS_Z8j0D6n3ZEmv20","button-primary":"nrWs9ympjWITXKIXd_7y","button-secondary":"Hy_P64B8lNKgp3N7Qz4Z","button-outlined":"EQ28Qdia9j_Xzdi3zX_q","button-tertiary":"_u0zWe4lDi7MEyU9Tbhg","btn-block":"w8T7Z5K6_ZBoWravjJ50"};const cr=e=>l().createElement("button",{id:e.id,className:dn()(lr.button,lr[`button-${e.version}`],e.className,{[lr["btn-block"]]:e.block}),type:"button",onClick:e.onClick,disabled:e.disabled,"aria-label":e.ariaLabel,"aria-hidden":e.standalone,"data-testid":e.testID,title:e.title},e.children);cr.defaultProps={onClick:()=>{}};const ur=e=>{const t={className:dn()(lr.button,lr[`button-${e.version}`],e.className,{[lr["btn-block"]]:e.block}),title:e.title,draggable:e.draggable||!1,onClick:e.onClick,"data-testid":e.testID};return e.href?l().createElement("a",wn()({},t,{target:e._blank?"_blank":"_self",href:e.href}),e.children):e.linkTo?l().createElement(ar.rU,wn()({},t,{to:e.linkTo}),e.children):l().createElement(cr,e,e.children)};cr.defaultProps={onClick:()=>{}};var pr="tIriT4RktlpCPFsZWXn2";const dr=({value:e,id:t,children:n,disabled:r,onSelect:o,className:i,dir:s})=>l().createElement("span",{className:i},l().createElement("select",{className:pr,value:null==e?void 0:e.toString(),id:t,disabled:r,onBlur:()=>{},onChange:e=>{o(e.target.value)},dir:s},n));var gr={horizontalPair:"_mxIcqKL6oC8aUG31X2U",ProxySettings:"DxC0WEH2JWilu6_TfJyf",fullWidth:"__OM0c0DDPhR8HW1ywKj",proxyInput:"mzfDg4RUq2tbj7h49qw9",labelStretch:"SUGWYPrcXlQxbCoypHPn",restartAppButton:"fz7M2WFVbmyGHkZ92pr3",title:"Hbd2KRjpCAs95JhUNorg"},hr=n(9456);const mr=({id:e,type:t,placeHolder:n,inputRef:r,handleOnChange:o})=>l().createElement("input",{type:t||"text",id:e,"data-testid":e,className:gr.proxyInput,placeholder:n,ref:r,onChange:o}),fr=({children:e,label:t})=>l().createElement(hr.cw,{label:t},e);var br={isBook:"SKxQJAPMboWSy6WRkaIw",isBold:"_kLMHim1UzL5pQJXJnvo",isBlack:"_9X7k4zKa_9S0wbSQ4MW",isCondensed:"OO80smxtakk8HL3VbAQv",bass:"oStn5XbXP5fETx83AmIj",forte:"re4E3MgVbOQERSg_cv08",brio:"tfGZ0jPIcWoGr2xu3MIH",alto:"SSdRAoLa4b1Lzkfx3wvD",canon:"FbJZV05IkisQa8SwFSHz",cello:"WTGhvcTixi4eF76bALDW",ballad:"ipxcyIaAWQfeUHO468Os",balladBold:"OVe33QZtu7pqMRtApCfF",mesto:"__whSyV64vHUPUxZSpRJ",mestoBold:"lkLwhOqn_uyfjwAxRbbC",metronome:"ZZDz1mXE9XFIT_SXf9Te",finale:"X4mdgRzyBsWSX2RQYm_w",finaleBold:"GDLF4TvkqKmNHqteMOSh",minuet:"YfKE3hxWkX_TxVo64SG6",minuetBold:"tJAIYSfsDs3HsXDAPenF",viola:"IAK6xuovwdsi5JG9DSTx",violaBold:"bioOfDVW7YpoL443Vxaa"},yr=n(4298);const _r=["color","variant","condensed","weight","className"];function Er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Er(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Er(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let wr,vr;!function(e){e.bass="bass",e.forte="forte",e.brio="brio",e.alto="alto",e.canon="canon",e.cello="cello",e.ballad="ballad",e.balladBold="balladBold",e.viola="viola",e.violaBold="violaBold",e.mesto="mesto",e.mestoBold="mestoBold",e.metronome="metronome",e.minuet="minuet",e.minuetBold="minuetBold",e.finale="finale",e.finaleBold="finaleBold"}(wr||(wr={})),function(e){e.book="book",e.bold="bold",e.black="black"}(vr||(vr={}));const kr=l().forwardRef(((e,t)=>{let{color:n,variant:r=wr.ballad,condensed:o,weight:i,className:s}=e,a=Pe()(e,_r);const c=(e=>void 0!==e&&Object.prototype.hasOwnProperty.call(yr.$_Y,e))(n)?yr.$_Y[n]:n,u=br[r],p=a.as?a.as:"span";return l().createElement(p,wn()({className:dn()(s,{[u]:!!u,[br.isBook]:i===vr.book,[br.isBold]:i===vr.bold,[br.isBlack]:i===vr.black,[br.isCondensed]:o}),style:{color:c||""},ref:t},a))})),Or=Sr(Sr(Sr({},{h1:l().forwardRef(((e,t)=>l().createElement(kr,wn()({as:"h1",ref:t},e)))),h2:l().forwardRef(((e,t)=>l().createElement(kr,wn()({as:"h2",ref:t},e)))),h3:l().forwardRef(((e,t)=>l().createElement(kr,wn()({as:"h3",ref:t},e)))),h4:l().forwardRef(((e,t)=>l().createElement(kr,wn()({as:"h4",ref:t},e)))),h5:l().forwardRef(((e,t)=>l().createElement(kr,wn()({as:"h5",ref:t},e)))),h6:l().forwardRef(((e,t)=>l().createElement(kr,wn()({as:"h6",ref:t},e)))),p:l().forwardRef(((e,t)=>l().createElement(kr,wn()({as:"p",ref:t},e)))),small:l().forwardRef(((e,t)=>l().createElement(kr,wn()({as:"small",ref:t},e)))),li:l().forwardRef(((e,t)=>l().createElement(kr,wn()({as:"li",ref:t},e)))),span:l().forwardRef(((e,t)=>l().createElement(kr,wn()({as:"span",ref:t},e))))}),wr),vr),Cr=Object.assign(kr,Or),Pr=(e,t,n)=>{let r=`${e}:${t}`;switch(n){case Pt:r+="@http";break;case It:r+="@socks4";break;case Tt:r+="@socks5"}return r},Ir=({addr:e,mode:t,pass:n,user:r,setValue:o,restartContainer:i,fullWidth:s})=>{const c=(0,a.useRef)(null),u=(0,a.useRef)(null),p=(0,a.useRef)(null),d=(0,a.useRef)(null),[g,h]=(0,a.useState)(""),[m,f]=(0,a.useState)(""),[b,y]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const[t,n]=(null==e?void 0:e.split(/[:@]+/))||["",""];h(t),f(n),c.current&&(c.current.value=t),u.current&&(u.current.value=n)}),[e]),(0,a.useEffect)((()=>{d.current&&n&&(d.current.value=n.toString())}),[n]),(0,a.useEffect)((()=>{p.current&&r&&(p.current.value=r.toString())}),[r]);const _=(0,a.useCallback)((({target:e})=>{const n=Pr(e.value,m,t||0);h(e.value),o("network.proxy.addr",n),y(!0)}),[t,m,o]),E=(0,a.useCallback)((({target:e})=>{const n=Pr(g,e.value,t||0);f(e.value),o("network.proxy.addr",n),y(!0)}),[t,g,o]),S=(0,a.useCallback)((({target:e})=>{o("network.proxy.user",e.value),y(!0)}),[o]),w=(0,a.useCallback)((({target:e})=>{o("network.proxy.pass",e.value),y(!0)}),[o]),v=0!==t&&1!==t,k=t!==It;return l().createElement("div",{className:[gr.ProxySettings,s?gr.fullWidth:""].join(" ")},l().createElement(Cr,{as:"h2",variant:Cr.cello,className:gr.title},Ct.get("desktop.settings.proxy.title")),l().createElement(fr,{label:Ct.get("desktop.settings.proxy.type")},l().createElement(dr,{className:gr.secondColumn,id:"network.proxy.mode",value:t,onSelect:e=>{const t=parseInt(e,10);o("network.proxy.mode",t),y(!0)}},At.map((({enumKey:e,enumValue:t})=>l().createElement("option",{key:e,value:t,"data-testid":e},Nt[e]?Nt[e].label():""))))),v?l().createElement(l().Fragment,null,l().createElement("div",{className:gr.horizontalPair},l().createElement(fr,{label:Ct.get("desktop.settings.proxy.host")},l().createElement(mr,{id:"network.proxy.host",handleOnChange:_,placeHolder:Ct.get("desktop.settings.proxy.host"),inputRef:c})),l().createElement(fr,{label:Ct.get("desktop.settings.proxy.port")},l().createElement(mr,{id:"network.proxy.port",type:"number",handleOnChange:E,placeHolder:Ct.get("desktop.settings.proxy.port"),inputRef:u}))),l().createElement("div",{className:k?gr.horizontalPair:void 0},l().createElement(fr,{label:Ct.get("desktop.settings.proxy.user")},l().createElement(mr,{id:"network.proxy.user",handleOnChange:S,placeHolder:Ct.get("desktop.settings.proxy.user"),inputRef:p})),k?l().createElement(fr,{label:Ct.get("desktop.settings.proxy.pass")},l().createElement(mr,{id:"network.proxy.pass",handleOnChange:w,placeHolder:Ct.get("desktop.settings.proxy.pass"),type:"password",inputRef:d})):null)):null,b&&l().createElement(ur,{className:gr.restartAppButton,version:"outlined",onClick:i},Ct.get("settings.restartApp")))};function Tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const Nr=["network.proxy.mode","network.proxy.addr","network.proxy.user","network.proxy.pass"];var Ar=(0,d.$j)((e=>({settings:{proxy:e.settings.proxy}})),(e=>({fetchProxySettings(){e($t.fetchProxySettings())},updateProxySettings(t){e($t.updateProxySettings(t))},restartClient(){e($t.restartClient())}})))((({settings:e={proxy:{mode:0,address:"",username:"",password:""}},fetchProxySettings:t=(()=>{}),updateProxySettings:n=(()=>{}),restartClient:r=(()=>{})})=>{(0,a.useEffect)((()=>{t()}),[t]);const o=(0,a.useCallback)(((t,r)=>{if(function(e){return!!Nr.includes(e)}(t)){const o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tr(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.proxy);switch(t){case"network.proxy.mode":o.mode=r;break;case"network.proxy.addr":o.address=r;break;case"network.proxy.user":o.username=r;break;case"network.proxy.pass":o.password=r}n(o)}return Promise.resolve()}),[e,n]);return l().createElement("main",{className:"Settings","aria-labelledby":"settings-form-title"},l().createElement("h1",{className:"HeroText",id:"settings-form-title"},Ct.get("desktop.login.PreferencesLink")),l().createElement(Ir,{mode:e.proxy.mode,addr:e.proxy.address,user:e.proxy.username,pass:e.proxy.password,setValue:o,restartContainer:r,fullWidth:!0}))}));class Dr extends l().PureComponent{constructor(e){super(e),this.handleSettingsClick=this.goToSettingsPage.bind(this),this.handleBackToLoginClick=this.handleBackToLoginClick.bind(this)}handleSignupClick(){const{isWebAuthFlowSignupVariant:e,openSignupPage:t,onInteraction:n}=this.props,r=e?"create-account-web":"open-page-signup",o=ln();t(o),n("login/welcome","click",r,null,o)}handleBackToLoginClick(e){e.preventDefault(),this.props.openLoginPage(),this.props.onInteraction(this.props.mode,"click","back-to-login")}goToSettingsPage(e){e.preventDefault(),this.props.openSettingsPage(),this.props.onInteraction(this.props.mode,"click","open-page-settings")}renderPreferencesLink(){return l().createElement("a",{className:"Footer__link",href:"#",onClick:this.handleSettingsClick,"data-ta-id":"login-footer-settings"},Ct.get("desktop.login.PreferencesLink"))}renderBackToLoginLink(){return l().createElement("a",{className:"Footer__link",href:"#",onClick:this.handleBackToLoginClick,"data-ta-id":"login-footer-settings-back-to-login"},Ct.get("desktop.login.Back"))}renderTryAgain(){return l().createElement(l().Fragment,null,l().createElement("span",null,Ct.get("desktop-auth.login.not-seeing-browser"))," ",l().createElement("a",{href:"#",onClick:()=>this.props.tryAgainHandler()},Ct.get("desktop-auth.login.try-again")))}renderSignupLink(){const{isWebAuthFlowControl:e}=this.props;return e?l().createElement("a",{className:"Footer__NoUnderline",href:"#",id:"signup-link",onClick:()=>this.handleSignupClick(),"data-ta-id":"welcome-signup-link",dangerouslySetInnerHTML:{__html:Ct.get("desktop.login.DontHaveAnAccountSignup")}}):l().createElement(l().Fragment,null,Ct.get("desktop-auth.login.new-to-spotify")," ",l().createElement("a",{className:"FooterFormText__NoUnderline",href:"#",id:"signup-link",onClick:()=>this.handleSignupClick(),"data-ta-id":"signup-link"},Ct.get("desktop-auth.login.sign-up")))}render(){const{mode:e}=this.props;return l().createElement("footer",{className:"Footer",role:"contentinfo"},"login"===e&&this.renderPreferencesLink(),"settings"===e&&this.renderBackToLoginLink(),"open-browser"===e&&this.renderTryAgain(),"welcome"===e&&this.renderSignupLink())}}var Ur=(0,d.$j)((e=>({isWebAuthFlowControl:en(e.app),isWebAuthFlowSignupVariant:Qt(e.app)})),(e=>({tryAgainHandler:()=>{e($t.abortLoginWithAccounts()),e($t.enterWelcomeMode())},openLoginPage:()=>{e($t.enterLoginMode())},openSignupPage:t=>e($t.enterSignupMode(t)),openSettingsPage:()=>e($t.enterSettingsMode()),onInteraction:(t,n,r,o,i)=>e($t.interaction(t,n,r,o,i))})))(Dr);class Fr extends l().PureComponent{render(){return l().createElement("header",{className:"Header"},l().createElement("h1",{className:"glue-hidden-visually"},"Spotify"),l().createElement("img",{className:"Header__logo",src:"images/logo.svg",alt:""}))}}var Lr=n(9842),Mr=n(6006);class Rr extends l().Component{renderFakeWebPlayer(){return l().createElement("div",{className:"fakeWebPlayer"},l().createElement("aside",null),l().createElement("footer",null,l().createElement("div",{className:"fakeWebPlayer__footer-left"}),l().createElement("div",{className:"fakeWebPlayer__footer-center"}),l().createElement("div",{className:"fakeWebPlayer__footer-right"})),l().createElement("main",null,l().createElement("div",{className:"fakeWebPlayer__content"})))}render(){const{loading:e,mode:t,loggedIn:n,previousMode:r,throbberDelay:o,remoteConfigProps:i,signupStep:s,previousSignupStep:a}=this.props;if(e||!t||!i)return l().createElement(Vt,{delay:o});if(n)return null;let c=r?`__${t} __${r}-to-${t}`:"";return"signup"===t&&Number.isInteger(a)&&(c+=` __signup_step_${a}_to_${s}`),l().createElement("main",{className:"App",key:"main1","data-ta-id":"login-app","data-ta-login-mode":t},this.renderFakeWebPlayer(),l().createElement("div",{className:`App__content ${c}`},l().createElement(Mr.Z,{mode:"in-out"},l().createElement(Lr.Z,{timeout:{appear:0,enter:0,exit:650},key:c},l().createElement("div",{className:`App__modal ${c}`},l().createElement(Fr,null),"welcome"===t&&l().createElement(un,null),"signup"===t&&l().createElement(Xn,{step:s}),"login"===t&&l().createElement(or,null),"open-browser"===t&&l().createElement(sr,null),"settings"===t&&l().createElement(Ar,null),l().createElement(Ur,{mode:t}))))))}}f()(Rr,"defaultProps",{throbberDelay:0,transitionLeaveTimeout:0});var xr=(0,d.$j)((e=>({mode:e.app.mode,previousMode:e.app.previousMode,remoteConfigProps:e.app.remoteConfigProps,signupStep:e.signup.step,previousSignupStep:e.signup.previousStep,loading:!!e.login.loading,loggedIn:!!e.login.loggedIn,throbberDelay:e.login.throbberDelay,transitionLeaveTimeout:e.login.redirectDelay})))(Rr),jr=n(2734),Br=n(5870);const Gr=an().create().toString();const Wr="has-used-app",Hr=!window.localStorage.getItem(Wr);Hr&&window.localStorage.setItem(Wr,!0);var $r=()=>{const e=V.getItem("utmParameters");let t;try{t=e?JSON.parse(e).referral:""}catch(e){t=""}return t},Vr=n(9129),zr=n(8100),Kr=n.n(zr);let Yr=null;let qr=null;var Xr=n(8503);async function Jr(e,{page:t}){return Zr(e,{page:t,action_type:"pageview",action_intent:""})}async function Zr(e,{page:t,action_type:n,action_intent:r,item_id:o,action_hash:i}){const s=function(){if(null===Yr)throw new Error("Missing `instance`. Have you called `setRemoteConfigInstance` yet?");return Yr}();try{await s.activationPromise}catch(e){}(function(){if(null===qr)throw new Error("Missing `instance`. Have you called `setEventSenderInstance` yet?");return qr})().send((0,Xr.e)({action_type:n,action_intent:r,action_page:t,action_item_id:o,action_hash:i,device_is_new_install:Hr,device_locale:window.__spotify.locale,device_referrer:$r(),ab_flags:je(e.getState()),session_id:Gr}),{authorize:!1})}function Qr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var eo=e=>{window.location.href=e};function to(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function no(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?to(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):to(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ro={errorMessage:null};var oo=function(e=ro,t){var n;switch(t.type){case $t.ENTER_SIGNUP_MODE:return no(no({},e),{},{previousMode:e.mode,mode:Qt(e)?"open-browser":"signup"});case $t.ENTER_LOGIN_MODE:return no(no({},e),{},{previousMode:e.mode,mode:Zt(e)?"open-browser":"login"});case $t.COUNTRY_NOT_LAUNCHED:return no(no({},e),{},{previousMode:e.mode,mode:"login"});case $t.ENTER_WELCOME_MODE:return no(no({},e),{},{previousMode:e.mode,mode:"welcome",errorMessage:null!==(n=t.errorMessage)&&void 0!==n?n:null});case $t.ENTER_SETTINGS_MODE:return no(no({},e),{},{previousMode:e.mode,mode:"settings"});case $t.REMOTE_CONFIG_PROPS:{if(xe())return no(no({},e),{},{remoteConfigProps:{},_IGNORED_ON_TEAM_CITY_remoteConfigProps:t.props});let n={};try{n=localStorage.remoteConfigPropsOverrides&&JSON.parse(localStorage.remoteConfigPropsOverrides)||{}}catch(e){n={}}return no(no({},e),{},{remoteConfigProps:no(no({},t.props),n)})}default:return e}};function io(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function so(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?io(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):io(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ao={proxy:{mode:0,address:"",username:"",password:""}};var lo=function(e=ao,t){return function(e){return e.type===$t.SETTINGS_FETCH_PROXY_SETTINGS_SUCCESS}(t)?so(so({},e),{},{proxy:{mode:t.data.mode,address:t.data.address,username:t.data.username,password:t.data.password}}):e};function co(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?co(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):co(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const po={step:0,isAttempting:!1,isSuccessful:void 0,errors:{},errorData:{},validated:{},formData:{name:"",email:"",password:"",birthDate:{day:void 0,month:void 0,year:void 0},gender:void 0,sendEmail:void 0,shareData:void 0,agreeEula:!1},restrictions:void 0};var go=function(e=po,t){switch(t.type){case $t.ENTER_SIGNUP_MODE_STEP_0:return uo(uo({},e),{},{previousStep:e.step,step:0});case $t.ENTER_SIGNUP_MODE_STEP_1:return uo(uo({},e),{},{previousStep:e.step,step:1});case $t.SIGNUP_RESTRICTIONS_SUCCESS:return uo(uo({},e),{},{formData:uo(uo({},e.formData),{},{sendEmail:!!t.restrictions.requires_marketing_opt_in_text||void 0,agreeEula:!!t.restrictions.pretick_eula}),restrictions:t.restrictions});case $t.SIGNUP_RESTRICTIONS_FAILURE:return uo(uo({},e),{},{errorData:t.error});case $t.SIGNUP_ATTEMPT:return uo(uo({},e),{},{isAttempting:!0,errorData:null});case $t.SIGNUP_SUCCESS:return uo(uo({},e),{},{isAttempting:!0,isSuccessful:!0,errorData:null});case $t.SIGNUP_FAILURE:return uo(uo({},e),{},{isAttempting:!1,isSuccessful:!1,errors:t.errors,errorData:null});case $t.FACEBOOK_SIGNUP_ATTEMPT:return uo(uo({},e),{},{errorData:null,errors:{}});case $t.FACEBOOK_SIGNUP_FAILURE:return uo(uo({},e),{},{errorData:t.errorData});case $t.VALIDATE_FIELD_ATTEMPT:return uo(uo({},e),{},{errors:uo(uo({},e.errors),{},{[t.field]:void 0})});case $t.VALIDATE_FIELD_FAILURE:return uo(uo({},e),{},{errors:uo(uo({},e.errors),{},{[t.field]:t.error}),validated:uo(uo({},e.validated),{},{[t.field]:!1})});case $t.VALIDATE_FIELD_SUCCESS:return uo(uo({},e),{},{errors:uo(uo({},e.errors),{},{[t.field]:void 0}),validated:uo(uo({},e.validated),{},{[t.field]:!0})});case $t.UPDATE_SIGNUP_DATA:{const n={};for(const e of Object.keys(t.data))n[e]=void 0;return uo(uo({},e),{},{errors:uo(uo({},e.errors),n),formData:uo(uo({},e.formData),t.data)})}case $t.CLEAR_ALL_ERRORS:return uo(uo({},e),{},{errors:{}});default:return e}};const ho=(0,jr.MT)((0,jr.UY)({app:oo,login:ee,settings:lo,signup:go,experimentWebAuthReducer:on}),void 0,(0,jr.md)(Br.Z,(e=>t=>n=>{const r=t(n);switch(n.type){case $t.START_APP:e.dispatch($t.fetchUTMParameters()),e.dispatch($t.getSignupRestrictions());break;case $t.LOGIN_FAIL:{const t=e.getState();if(n.loginType===$t.LOGIN_TYPE_AUTOLOGIN){const n=t.app.mode;"welcome"===n?e.dispatch($t.enterWelcomeMode()):"login"===n?e.dispatch($t.enterLoginMode()):"signup"===n&&e.dispatch($t.enterSignupMode())}else{if("open-browser"===t.app.mode){const r=n.errorData;let o=gn(r.errorCategory,r.errorCode,r.errorReference);"desktop_login_accounts"===r.errorCategory&&4===r.errorCode&&(o="signup"===t.experimentWebAuthReducer.operationUsed?Ct.get("desktop-auth.login.signup-time-out"):Ct.get("desktop-auth.login.login-time-out")),o?e.dispatch($t.enterWelcomeMode(o)):e.dispatch($t.enterWelcomeMode())}}break}case $t.ENTER_SIGNUP_MODE:{const t=e.getState().signup.restrictions;t?!1===t.is_country_launched&&e.dispatch($t.countryNotLaunched()):e.dispatch($t.getSignupRestrictions());break}case $t.SIGNUP_RESTRICTIONS_SUCCESS:!1===n.restrictions.is_country_launched&&e.dispatch($t.countryNotLaunched());break;case $t.SIGNUP_FAILURE:(n.errors.email||n.errors.password||n.errors.displayname)&&e.dispatch($t.enterSignupModeStep0());break;case $t.COUNTRY_NOT_LAUNCHED:e.dispatch($t.openSignupPage(!0));break;case $t.REMOTE_CONFIG_PROPS:{const t=!V.getItem("lastUsername"),n=e.getState().app;t||!en(n)&&!(e=>Kt===Jt(e))(n)?e.dispatch($t.enterWelcomeMode()):e.dispatch($t.enterLoginMode())}}return r}),(e=>t=>n=>{const r=t(n);switch(n.type){case $t.ENTER_LOGIN_MODE:Jr(e,{page:"login"});break;case $t.LOGIN_SUCCESS:n.loginType===$t.LOGIN_TYPE_EMAIL?Zr(e,{page:"login",action_type:"view",action_intent:"show-success-login-email"}):n.loginType===$t.LOGIN_TYPE_FACEBOOK&&Zr(e,{page:"login",action_type:"view",action_intent:"show-success-login-facebook"});break;case $t.LOGIN_FAIL:n.loginType===$t.LOGIN_TYPE_EMAIL?n.errorData&&3===n.errorData.errorCode&&Zr(e,{page:"login",action_type:"view",action_intent:"show-error-invalid-credential"}):n.loginType===$t.LOGIN_TYPE_FACEBOOK&&Zr(e,{page:"login",action_type:"view",action_intent:"show-error-login-facebook"});break;case $t.ENTER_SIGNUP_MODE:Jr(e,{page:"signup"});break;case $t.ENTER_SIGNUP_MODE_STEP_0:Zr(e,{page:"signup",action_type:"view",action_intent:"show-signup-step-one"});break;case $t.ENTER_SIGNUP_MODE_STEP_1:Zr(e,{page:"signup",action_type:"view",action_intent:"show-signup-step-two"});break;case $t.SIGNUP_SUCCESS:Zr(e,{page:"signup",action_type:"view",action_intent:"show-success-signup-email"});break;case $t.SIGNUP_FAILURE:Zr(e,{page:"signup",action_type:"view",action_intent:"show-error-signup-email",item_id:n.errors&&Object.keys(n.errors).join("|")});break;case $t.FACEBOOK_SIGNUP_SUCCESS:Zr(e,{page:"signup",action_type:"view",action_intent:"show-success-authentication-facebook"});break;case $t.FACEBOOK_SIGNUP_FAILURE:Zr(e,{page:"signup",action_type:"view",action_intent:"show-error-authentication-facebook",item_id:n.errorData&&`${n.errorData.errorCode} - ${n.errorData.errorDescription}`});break;case $t.ENTER_WELCOME_MODE:Jr(e,{page:"login/welcome"});break;case $t.ENTER_SETTINGS_MODE:Jr(e,{page:"login/settings"});break;case $t.INTERACTION:Zr(e,{page:n.page,action_type:n.interactionType,action_intent:n.intent,item_id:n.itemId,action_hash:n.actionHash});break;case $t.VALIDATE_FIELD_FAILURE:if(n.error){const t=n.field,r=n.error.code;let o=null,i=null;"valueMissing"===r?o=`show-error-empty-${t}`:["incomplete","invalid","typeMismatch","tooShort"].includes(r)?o=`show-error-format-${t}`:(o=`show-error-${t}`,i=n.error.message||""),null!==o&&Zr(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qr(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({page:"signup",action_type:"view",action_intent:o},i?{item_id:i}:{}))}}return r}),(()=>e=>t=>{const n=e(t);if(!t.redirectTo)return n;let r;switch(t.redirectTo){case"xpui":r="spotify:app:xpui";break;default:return n}return t.redirectDelay?setTimeout((()=>{eo(r)}),t.redirectDelay):eo(r),n}),(e=>t=>n=>{const r=e.getState().app;return en(r)||(((e,t)=>e===$t.ENTER_LOGIN_MODE&&Zt(t))(n.type,r)&&e.dispatch($t.loginWithAccounts("",n.actionHash)),((e,t)=>e===$t.ENTER_SIGNUP_MODE&&Qt(t))(n.type,r)&&e.dispatch($t.signupWithAccounts("",n.actionHash))),t(n)})));ho.subscribe((()=>{const e=ho.getState();e.login.username&&localStorage.setItem(Y,e.login.username),e.login.utmParameters&&localStorage.setItem(X,JSON.stringify(e.login.utmParameters))}));var mo=ho,fo=n(6454),bo=n(5121);let yo=null;var _o=n(4624),Eo=n(6010);(async function(){const e=window.__spotify.locale,t=await fetch(`i18n/${e}.json`).then((e=>e.json()));Ct.setLocale(e),Ct.setDictionary(t)})().then((async function(){const e=function(){const e=(0,bo.qy)({providers:{endpoints:(0,bo.uG)(),token:()=>null}});return e.connect(),e}();yo=e;const t=((e,t,n)=>{if("event_sender_context_information"in e){const r=e.event_sender_context_information;return(0,_o.mi)({transport:t,suppressPersist:!1,context:[(0,Eo.UR)({version:r.client_version_string}),(0,Eo.jx)(n),(0,Eo.IE)(r.installation_id),(0,Eo.Hv)({name:r.platform_type,version:r.os_version})]})}return(0,_o.mi)({transport:t,suppressPersist:!1,context:[(0,Eo.jx)(n),(0,Eo.UR)({version:e.client_version_quadruple}),(0,Eo.IE)(e.event_sender_installation_id_hex),(0,Eo.Hv)({name:e.os_name,version:e.os_version})]})})(window.__spotify,e,"65b708073fc0480ea92a077233ca87bd");!function(e){qr=e}(t);const n=function(e,t,n={},r=!0){let o,i={};try{var s;i=JSON.parse(null!==(s=localStorage.getItem("rcOverrides"))&&void 0!==s?s:"{}")}catch(e){}o="event_sender_context_information"in __spotify?__spotify.event_sender_context_information.installation_id:__spotify.event_sender_installation_id_hex;const a=new Vr.ZP({clientId:"open3",installationId:o,storage:r?void 0:null,timeout:3e3,properties:Kr(),propertyOverrides:i,transport:e,eventSender:t});return a.resolve(n),a}(e,t,{},!1);!function(e){Yr=e}(n),n.activationPromise.then((()=>{mo.dispatch($t.remoteConfigProps(n.getPropertiesAsObject()))})).catch((()=>{mo.dispatch($t.remoteConfigProps({}))})),h.attach(),h.update(),g.attach();const r=document.location.search,o=new RegExp(`\\?param=error-code\\${encodeURIComponent("=")}([0-9]+)`,"i");window.addEventListener("message",(e=>{"critical-update-error"===e.data&&mo.dispatch($t.loginFailed({errorCode:e.data}))}));const i=r.match(o);if(r&&i){const e=+i[1];mo.dispatch($t.loginFailed({errorCode:e}))}let s="linux";window.navigator.platform.startsWith("Mac")&&(s="mac"),window.navigator.platform.startsWith("Win")&&(s="windows"),document.body.classList.add(`body-container--${s}`),u().render(l().createElement(p.zj,null,l().createElement(d.zt,{store:mo},l().createElement(xr,null))),document.getElementById("main")),mo.dispatch($t.startApp()),document.documentElement.setAttribute("dir",window.__spotify.localization_is_rtl?"rtl":"ltr");const a={[fo.PLATFORM_UNKNOWN]:"body-container--unknown-os",[fo.PLATFORM_MAC]:"body-container--mac",[fo.PLATFORM_WINDOWS]:"body-container--windows"},c=(0,fo.getPlatform)();document.body.classList.add(a[c])}))},6454:function(e,t,n){"use strict";n.r(t),n.d(t,{PLATFORM_UNKNOWN:function(){return r},PLATFORM_MAC:function(){return o},PLATFORM_WINDOWS:function(){return i},isMac:function(){return s},isWindows:function(){return a},getPlatform:function(){return l}});const r=Symbol("PLATFORM_UNKNOWN"),o=Symbol("PLATFORM_MAC"),i=Symbol("PLATFORM_WINDOWS");function s(){return window.navigator.platform.startsWith("Mac")}function a(){return window.navigator.platform.startsWith("Win")}function l(){return s()?o:a()?i:r}},1988:function(e,t){let n=!1;t.update=()=>{},t.attach=()=>{if(n)return;n=!0;const e=window.__spotify&&window.__spotify.locale;e&&document.documentElement.setAttribute("lang",e)},t.detach=()=>{n&&(n=!1,document.documentElement.removeAttribute("lang"))}},5023:function(e,t,n){const{getPlatform:r,PLATFORM_UNKNOWN:o,PLATFORM_MAC:i,PLATFORM_WINDOWS:s}=n(6454);let a=!1,l="always-visible",c=0;const u={[o]:"linux",[i]:"mac",[s]:"windows"};let p=u[o];function d(){const e=[...document.querySelectorAll("*")],t=[],n=["scroll","auto","overlay"];e.forEach((e=>{const r=window.getComputedStyle(e),o=r.overflowX,i=r.overflowY;n.includes(o)&&t.push({node:e,property:"overflow-x"}),n.includes(i)&&t.push({node:e,property:"overflow-y"})}));const r=document.createElement("style");r.innerHTML="\n    html::-webkit-scrollbar,\n    body::-webkit-scrollbar {\n      background-color: rgba(1, 2, 3, 0) !important;\n    }\n  ".trimRight();const o=`data-scrollbar-fix-${++c}-id`;let i=0;t.forEach((({node:e,property:t})=>{if(e!==document.body){const n=++i;e.setAttribute(o,n),r.innerHTML+=`\n    [${o}="${n}"] { ${t}: hidden !important; }`}})),document.head.appendChild(r),setTimeout((()=>{document.head.removeChild(r),t.forEach((({node:e})=>{e.removeAttribute(o)}))}),0)}t.performScrollBarFix=d,t.update=function(){},t.attach=function(){if(a)return;a=!0;const e=window.__spotify&&window.__spotify.scroller_style;l="overlay"===e?"overlay":"always-visible";const t=r();p=u[t],"always-visible"===l||"mac"!==p?(document.body.classList.remove("scrollbar-style-when-scrolling-mac"),document.body.classList.add(`scrollbar-style-visible-${p}`)):(document.body.classList.remove(`scrollbar-style-visible-${p}`),document.body.classList.add("scrollbar-style-when-scrolling-mac")),window.addEventListener("message",(e=>{"set_active"===e.data.name&&e.data.active&&d()}))},t.detach=function(){a&&(a=!1,c=0)}},5200:function(e,t,n){"use strict";n.d(t,{lX:function(){return _},q_:function(){return k},PP:function(){return C},ob:function(){return d},Ep:function(){return p}});var r=n(5773),o=n(1779),i=n(4231),s=n(1115);function a(e){return"/"===e.charAt(0)?e:`/${e}`}function l(e){return"/"===e.charAt(0)?e.substr(1):e}function c(e,t){return function(e,t){return new RegExp(`^${t}(\\/|\\?|#|$)`,"i").test(e)}(e,t)?e.substr(t.length):e}function u(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){const t=e.pathname,n=e.search,r=e.hash;let o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:`?${n}`),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:`#${r}`),o}function d(e,t,n,i){let s;"string"==typeof e?(s=function(e){let t=e||"/",n="",r="";const o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));const i=t.indexOf("?");return-1!==i&&(n=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),s.state=t):(s=(0,r.Z)({},e),void 0===s.pathname&&(s.pathname=""),s.search?"?"!==s.search.charAt(0)&&(s.search=`?${s.search}`):s.search="",s.hash?"#"!==s.hash.charAt(0)&&(s.hash=`#${s.hash}`):s.hash="",void 0!==t&&void 0===s.state&&(s.state=t));try{s.pathname=decodeURI(s.pathname)}catch(e){}return n&&(s.key=n),i?s.pathname?"/"!==s.pathname.charAt(0)&&(s.pathname=(0,o.Z)(s.pathname,i.pathname)):s.pathname=i.pathname:s.pathname||(s.pathname="/"),s}function g(){let e=null;let t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,o){if(null!=e){const i="function"==typeof e?e(t,n):e;"string"==typeof i?"function"==typeof r?r(i,o):o(!0):o(!1!==i)}else o(!0)},appendListener:function(e){let n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}const h=!("undefined"==typeof window||!window.document||!window.document.createElement);function m(e,t){t(window.confirm(e))}const f="popstate",b="hashchange";function y(){try{return window.history.state||{}}catch(e){return{}}}function _(e){void 0===e&&(e={}),h||(0,s.Z)(!1);const t=window.history,n=function(){const e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),o=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,l=i.forceRefresh,_=void 0!==l&&l,E=i.getUserConfirmation,S=void 0===E?m:E,w=i.keyLength,v=void 0===w?6:w,k=e.basename?u(a(e.basename)):"";function O(e){const t=e||{},n=t.key,r=t.state,o=window.location;let i=o.pathname+o.search+o.hash;return k&&(i=c(i,k)),d(i,r,n)}function C(){return Math.random().toString(36).substr(2,v)}const P=g();function I(e){(0,r.Z)(B,e),B.length=t.length,P.notifyListeners(B.location,B.action)}function T(e){(function(e){void 0===e.state&&navigator.userAgent.indexOf("CriOS")})(e)||D(O(e.state))}function N(){D(O(y()))}let A=!1;function D(e){if(A)A=!1,I();else{const t="POP";P.confirmTransitionTo(e,t,S,(function(n){n?I({action:t,location:e}):function(e){const t=B.location;let n=F.indexOf(t.key);-1===n&&(n=0);let r=F.indexOf(e.key);-1===r&&(r=0);const o=n-r;o&&(A=!0,M(o))}(e)}))}}const U=O(y());var F=[U.key];function L(e){return k+p(e)}function M(e){t.go(e)}let R=0;function x(e){R+=e,1===R&&1===e?(window.addEventListener(f,T),o&&window.addEventListener(b,N)):0===R&&(window.removeEventListener(f,T),o&&window.removeEventListener(b,N))}let j=!1;var B={length:t.length,action:"POP",location:U,createHref:L,push:function(e,r){const o="PUSH",i=d(e,r,C(),B.location);P.confirmTransitionTo(i,o,S,(function(e){if(!e)return;const r=L(i),s=i.key,a=i.state;if(n)if(t.pushState({key:s,state:a},null,r),_)window.location.href=r;else{const e=F.indexOf(B.location.key),t=F.slice(0,-1===e?0:e+1);t.push(i.key),F=t,I({action:o,location:i})}else window.location.href=r}))},replace:function(e,r){const o="REPLACE",i=d(e,r,C(),B.location);P.confirmTransitionTo(i,o,S,(function(e){if(!e)return;const r=L(i),s=i.key,a=i.state;if(n)if(t.replaceState({key:s,state:a},null,r),_)window.location.replace(r);else{const e=F.indexOf(B.location.key);-1!==e&&(F[e]=i.key),I({action:o,location:i})}else window.location.replace(r)}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);const t=P.setPrompt(e);return j||(x(1),j=!0),function(){return j&&(j=!1,x(-1)),t()}},listen:function(e){const t=P.appendListener(e);return x(1),function(){x(-1),t()}}};return B}const E="hashchange",S={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:`!/${l(e)}`},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:l,decodePath:a},slash:{encodePath:a,decodePath:a}};function w(){const e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function v(e){const t=window.location.href.indexOf("#");window.location.replace(`${window.location.href.slice(0,t>=0?t:0)}#${e}`)}function k(e){void 0===e&&(e={}),h||(0,s.Z)(!1);const t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),o=n.getUserConfirmation,l=void 0===o?m:o,f=n.hashType,b=void 0===f?"slash":f,y=e.basename?u(a(e.basename)):"",_=S[b],k=_.encodePath,O=_.decodePath;function C(){let e=O(w());return y&&(e=c(e,y)),d(e)}const P=g();function I(e){(0,r.Z)(B,e),B.length=t.length,P.notifyListeners(B.location,B.action)}let T=!1,N=null;function A(){const e=w(),t=k(e);if(e!==t)v(t);else{const e=C(),t=B.location;if(!T&&(r=e,(n=t).pathname===r.pathname&&n.search===r.search&&n.hash===r.hash&&n.key===r.key&&(0,i.Z)(n.state,r.state)))return;if(N===p(e))return;N=null,function(e){if(T)T=!1,I();else{const t="POP";P.confirmTransitionTo(e,t,l,(function(n){n?I({action:t,location:e}):function(e){const t=B.location;let n=L.lastIndexOf(p(t));-1===n&&(n=0);let r=L.lastIndexOf(p(e));-1===r&&(r=0);const o=n-r;o&&(T=!0,M(o))}(e)}))}}(e)}var n,r}const D=w(),U=k(D);D!==U&&v(U);const F=C();var L=[p(F)];function M(e){t.go(e)}let R=0;function x(e){R+=e,1===R&&1===e?window.addEventListener(E,A):0===R&&window.removeEventListener(E,A)}let j=!1;var B={length:t.length,action:"POP",location:F,createHref:function(e){return`#${k(y+p(e))}`},push:function(e,t){const n="PUSH",r=d(e,void 0,void 0,B.location);P.confirmTransitionTo(r,n,l,(function(e){if(!e)return;const t=p(r),o=k(y+t);if(w()!==o){N=t,function(e){window.location.hash=e}(o);const e=L.lastIndexOf(p(B.location)),i=L.slice(0,-1===e?0:e+1);i.push(t),L=i,I({action:n,location:r})}else I()}))},replace:function(e,t){const n="REPLACE",r=d(e,void 0,void 0,B.location);P.confirmTransitionTo(r,n,l,(function(e){if(!e)return;const t=p(r),o=k(y+t);w()!==o&&(N=t,v(o));const i=L.indexOf(p(B.location));-1!==i&&(L[i]=t),I({action:n,location:r})}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);const t=P.setPrompt(e);return j||(x(1),j=!0),function(){return j&&(j=!1,x(-1)),t()}},listen:function(e){const t=P.appendListener(e);return x(1),function(){x(-1),t()}}};return B}function O(e,t,n){return Math.min(Math.max(e,t),n)}function C(e){void 0===e&&(e={});const t=e,n=t.getUserConfirmation,o=t.initialEntries,i=void 0===o?["/"]:o,s=t.initialIndex,a=void 0===s?0:s,l=t.keyLength,c=void 0===l?6:l,u=g();function h(e){(0,r.Z)(E,e),E.length=E.entries.length,u.notifyListeners(E.location,E.action)}function m(){return Math.random().toString(36).substr(2,c)}const f=O(a,0,i.length-1),b=i.map((function(e){return d(e,void 0,"string"==typeof e?m():e.key||m())})),y=p;function _(e){const t=O(E.index+e,0,E.entries.length-1),r=E.entries[t];u.confirmTransitionTo(r,"POP",n,(function(e){e?h({action:"POP",location:r,index:t}):h()}))}var E={length:b.length,action:"POP",location:b[f],index:f,entries:b,createHref:y,push:function(e,t){const r="PUSH",o=d(e,t,m(),E.location);u.confirmTransitionTo(o,r,n,(function(e){if(!e)return;const t=E.index+1,n=E.entries.slice(0);n.length>t?n.splice(t,n.length-t,o):n.push(o),h({action:r,location:o,index:t,entries:n})}))},replace:function(e,t){const r="REPLACE",o=d(e,t,m(),E.location);u.confirmTransitionTo(o,r,n,(function(e){e&&(E.entries[E.index]=o,h({action:r,location:o}))}))},go:_,goBack:function(){_(-1)},goForward:function(){_(1)},canGo:function(e){const t=E.index+e;return t>=0&&t<E.entries.length},block:function(e){return void 0===e&&(e=!1),u.setPrompt(e)},listen:function(e){return u.appendListener(e)}};return E}},8100:function(e){e.exports={version:"1.0.0",properties:[{name:"desktopWebAuthenticationMode",description:"Enables signup and login by redirecting the user to the browser to complete the operation",enumSpec:{values:["none","loginAndSignupSingleButton","signupOnlySingleButton","loginOnlySingleButton"],default:"none"}}]}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e].call(i.exports,i,i.exports,r),i.exports}r.m=t,r.amdO={},e=[],r.O=function(t,n,o,i){if(!n){var s=1/0;for(u=0;u<e.length;u++){n=e[u][0],o=e[u][1],i=e[u][2];for(var a=!0,l=0;l<n.length;l++)(!1&i||s>=i)&&Object.keys(r.O).every((function(e){return r.O[e](n[l])}))?n.splice(l--,1):(a=!1,i<s&&(s=i));if(a){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,o,i]},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={535:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,i,s=n[0],a=n[1],l=n[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);if(l)var u=l(r)}for(t&&t(n);c<s.length;c++)i=s[c],r.o(e,i)&&e[i]&&e[i][0](),e[s[c]]=0;return r.O(u)},n=("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o=r.O(void 0,[569],(function(){return r(7803)}));o=r.O(o)}();
//# sourceMappingURL=login.js.map